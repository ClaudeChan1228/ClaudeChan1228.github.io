<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>ABAP开发规范</title>
    <link href="/2024/11/18/029-%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83/"/>
    <url>/2024/11/18/029-%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>SAP</category>
      
      <category>ABAP</category>
      
      <category>模板</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ABAP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>增强概述</title>
    <link href="/2024/11/12/028-%E5%A2%9E%E5%BC%BA%E6%A6%82%E8%BF%B0/"/>
    <url>/2024/11/12/028-%E5%A2%9E%E5%BC%BA%E6%A6%82%E8%BF%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="增强介绍"><a href="#增强介绍" class="headerlink" title="增强介绍"></a>增强介绍</h1><p>对于SAP系统标准代码的改动都可以称之为增强。</p><p>当标准业务流程不满足企业需求时，SAP顾问可以通过实施增强来满足企业相对于标准流程的定制化业务需求。</p><p>以下按时间递进依次介绍目前的四代增强：</p><ol><li>一代增强：源代码的增强</li><li>二代增强：基于函数的增强</li><li>三代增强：基于类的增强</li><li>四代增强：显示和隐式增强</li></ol><h2 id="一代增强：源代码的增强"><a href="#一代增强：源代码的增强" class="headerlink" title="一代增强：源代码的增强"></a>一代增强：源代码的增强</h2><p>一代增强体现为标准事务程序中的以<code>USEREXIT</code>开头的<code>FORM</code>。</p><p>一代增强的好处是可以使用全局变量，缺点是系统升级需要手动迁移增强代码。</p><h3 id="查找一代增强的方法"><a href="#查找一代增强的方法" class="headerlink" title="查找一代增强的方法"></a>查找一代增强的方法</h3><h4 id="通过事务码的程序查找"><a href="#通过事务码的程序查找" class="headerlink" title="通过事务码的程序查找"></a>通过事务码的程序查找</h4><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202411182044330.png" alt="image-20241118204415193"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202411182048586.png" alt="image-20241118204807229"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202411182048865.png" alt="image-20241118204828146"></p><h4 id="通过SPRO查找"><a href="#通过SPRO查找" class="headerlink" title="通过SPRO查找"></a>通过SPRO查找</h4><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202411182052404.png" alt="image-20241118205206095"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202411191913096.png" alt="image-20241119191322530"></p><h4 id="通过SAT分析事务进行查找"><a href="#通过SAT分析事务进行查找" class="headerlink" title="通过SAT分析事务进行查找"></a>通过SAT分析事务进行查找</h4><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202411182117810.png" alt="image-20241118211724550"></p><p>输入事务码，点击执行，之后在弹出的业务界面进行操作最后点击保存或者退出，在SAT分析出来的报表中筛选<code>USEREXIT</code>的<code>FORM</code></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202411182119842.png" alt="image-20241118211949289"></p><h3 id="实施方式"><a href="#实施方式" class="headerlink" title="实施方式"></a>实施方式</h3><p>找到对应的<code>FORM</code>直接编辑源码。</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202411182130310.png" alt="image-20241118213039924"></p><h2 id="二代增强：基于函数的增强"><a href="#二代增强：基于函数的增强" class="headerlink" title="二代增强：基于函数的增强"></a>二代增强：基于函数的增强</h2><p>二代增强是基于函数的增强。</p><p>SAP在部分标准程序代码中预留了<code>CUSTOMER-FUNCTION</code>的函数调用，开发者所需增强的逻辑在对应的<code>CUSTOMER-FUNCTION</code>中实现即可，二代增强的函数名为<code>EXIT_&lt;程序名&gt;_&lt;3位数字&gt;</code>(程序名为调用该增强函数的程序)。除此之外，GUI增强、屏幕增强以及Include方式的表结构增强也属于二代增强。</p><p>二代增强相比一代增强，二代增强在系统升级过程中无需手动迁移，且二代增强的实现无需再申请访问KEY。</p><p>以下为四种二代增强：</p><ol><li>E类：函数增强</li><li>C类：GUI增强</li><li>S类：屏幕增强</li><li>T类：表结构增强</li></ol><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202411241449113.png" alt="image-20241124144908912"></p><p>二代增强相关的记录表：</p><ol><li><strong>MODSAP</strong>：记录增强点与对应的相关增强出口</li><li><strong>TFDIR</strong>：记录包括出口函数在内的所有函数的信息（MAND值为C则代表该出口函数已被激活）</li><li><strong>CUATEXTS</strong>：记录SAP系统GUI界面信息</li><li><strong>TSDIR</strong>：记录SAP系统子程序信息</li></ol><p>二代增强相关的函数：</p><ol><li>E类：MODX_FUNCTION_ACTIVE_CHECK（检查功能出口类用户出口是否被激活）</li><li>C类：MODX_MENUENTRY_ACTIVE_CHECK（检查菜单关键字类增强激活状况）</li><li>S类：MODX_SUBSCREEN_ACTIVE_CHECK（检查屏幕类增强激活状况）</li></ol><h3 id="查找二代增强的方法"><a href="#查找二代增强的方法" class="headerlink" title="查找二代增强的方法"></a>查找二代增强的方法</h3><h4 id="通过自开发程序查找"><a href="#通过自开发程序查找" class="headerlink" title="通过自开发程序查找"></a>通过自开发程序查找</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br></pre></td><td class="code"><pre><code class="hljs ABAP">REPORT Z_FIND_ENHANCEMENT<br>        NO STANDARD PAGE HEADING<br>        MESSAGE-ID zhuxy<br>        LINE-COUNT 65<br>        LINE-SIZE 120.<br><br>*** Global Date declear<br>TABLES:tstc,tadir,modsapt,modact,trdir,tfdir,enlfdir,sxs_attrt,tstct.<br>DATA : jtab LIKE tadir OCCURS 0 WITH HEADER LINE.<br>DATA : field1(30).<br>DATA : v_devclass LIKE tadir-devclass.<br>DATA : wa_tadir TYPE tadir.<br>PARAMETERS : p_tcode LIKE tstc-tcode,<br>             p_pgmna LIKE tstc-pgmna .<br><br>*======================================================================*<br>*  Selection Screen Events<br>*======================================================================*<br>***  maintain selection screen output<br>AT SELECTION-SCREEN OUTPUT.<br>*** F4 value help<br>*AT SELECTION-SCREEN ON VALUE-REQUEST for &lt;para/sel-opt&gt;.<br>*** check input data<br>AT SELECTION-SCREEN.<br>*AT SELECTION-SCREEN ON &lt;f&gt;.<br>*AT SELECTION-SCREEN ON BLOCK &lt;&gt;.<br>****CHECK ON SELECT SCREEN INPUT<br><br>*======================================================================*<br>*  Report Events<br>*======================================================================*<br>*** initial data<br>INITIALIZATION.<br><br>*** prepare report data<br>START-OF-SELECTION.<br>*########<br>  PERFORM get_data.<br>**#ò######<br>*  PERFORM write_data.<br>*** output report<br><br>END-OF-SELECTION.<br><br>*======================================================================*<br>*  List Events<br>*======================================================================*<br>*** page header<br>TOP-OF-PAGE.<br><br>*** page header after first list<br>TOP-OF-PAGE DURING LINE-SELECTION.<br><br>*** page footer<br>END-OF-PAGE.<br><br>*** when double click<br>AT LINE-SELECTION.<br>  PERFORM line_sel.<br><br>*** when click some icon (function code)<br>*at user-command.<br><br>*&amp;---------------------------------------------------------------------*<br>*&amp;      Form  get_data<br>*&amp;---------------------------------------------------------------------*<br>*       ########<br>*----------------------------------------------------------------------*<br>FORM get_data .<br>  IF NOT p_tcode IS INITIAL.<br>    SELECT SINGLE * FROM tstc WHERE tcode EQ p_tcode.<br>  ELSEIF NOT p_pgmna IS INITIAL.<br>    tstc-pgmna = p_pgmna.<br>  ENDIF.<br>  IF sy-subrc EQ 0.<br>    SELECT SINGLE * FROM tadir<br>    WHERE pgmid = &#x27;R3TR&#x27;<br>     AND object = &#x27;PROG&#x27;<br>     AND obj_name = tstc-pgmna.<br>    MOVE : tadir-devclass TO v_devclass.<br>    IF sy-subrc NE 0.<br>      SELECT SINGLE * FROM trdir<br>       WHERE name = tstc-pgmna.<br>      IF trdir-subc EQ &#x27;F&#x27;.<br>        SELECT SINGLE * FROM tfdir<br>         WHERE pname = tstc-pgmna.<br>        SELECT SINGLE * FROM enlfdir<br>         WHERE funcname = tfdir-funcname.<br>        SELECT SINGLE * FROM tadir<br>         WHERE pgmid = &#x27;R3TR&#x27;<br>         AND object = &#x27;FUGR&#x27;<br>         AND obj_name EQ enlfdir-area.<br>        MOVE : tadir-devclass TO v_devclass.<br>      ENDIF.<br>    ENDIF.<br>    SELECT * FROM tadir INTO TABLE jtab WHERE pgmid = &#x27;R3TR&#x27; AND<br>     object IN (&#x27;SMOD&#x27;, &#x27;SXSD&#x27;) AND<br>     devclass = v_devclass.<br>    SELECT SINGLE * FROM tstct WHERE sprsl EQ sy-langu AND<br>     tcode EQ p_tcode.<br>    FORMAT COLOR COL_POSITIVE INTENSIFIED OFF.<br>    WRITE:/(19) &#x27;Transaction Code - &#x27;,<br>    20(20) p_tcode,<br>    45(50) tstct-ttext.<br>    SKIP.<br>    IF NOT jtab[] IS INITIAL.<br>      WRITE:/(105) sy-uline.<br>      FORMAT COLOR COL_HEADING INTENSIFIED ON.<br>      SORT jtab BY object.<br>      DATA : wf_txt(60) TYPE c,<br>          wf_smod TYPE i ,<br>          wf_badi TYPE i ,<br>          wf_object2(30) TYPE c.<br>      CLEAR : wf_smod, wf_badi , wf_object2.<br>      LOOP AT jtab INTO wa_tadir.<br>        AT FIRST.<br>          FORMAT COLOR COL_HEADING INTENSIFIED ON.<br>          WRITE:/1 sy-vline,<br>            2 &#x27;Enhancement/ Business Add-in&#x27;,<br>            41 sy-vline ,<br>            42 &#x27;Description&#x27;,<br>            105 sy-vline.<br>          WRITE:/(105) sy-uline.<br>        ENDAT.<br>        CLEAR wf_txt.<br>        AT NEW object.<br>          IF wa_tadir-object = &#x27;SMOD&#x27;.<br>            wf_object2 = &#x27;Enhancement&#x27; .<br>          ELSEIF wa_tadir-object = &#x27;SXSD&#x27;.<br>            wf_object2 = &#x27; Business Add-in&#x27;.<br>          ENDIF.<br>          FORMAT COLOR COL_GROUP INTENSIFIED ON.<br>          WRITE:/1 sy-vline,<br>             2 wf_object2,<br>             105 sy-vline.<br>        ENDAT.<br>        CASE wa_tadir-object.<br>          WHEN &#x27;SMOD&#x27;.<br>            wf_smod = wf_smod + 1.<br>            SELECT SINGLE modtext INTO wf_txt<br>             FROM modsapt<br>             WHERE sprsl = sy-langu<br>              AND name = wa_tadir-obj_name.<br>            FORMAT COLOR COL_NORMAL INTENSIFIED OFF.<br>          WHEN &#x27;SXSD&#x27;.<br>*             * for badis<br>            wf_badi = wf_badi + 1 .<br>            SELECT SINGLE text INTO wf_txt<br>             FROM sxs_attrt<br>             WHERE sprsl = sy-langu<br>              AND exit_name = wa_tadir-obj_name.<br>            FORMAT COLOR COL_NORMAL INTENSIFIED ON.<br>        ENDCASE.<br>        WRITE:/1 sy-vline,<br>           2 wa_tadir-obj_name HOTSPOT ON,<br>           41 sy-vline ,<br>           42 wf_txt,<br>           105 sy-vline.<br>        AT END OF object.<br>          WRITE : /(105) sy-uline.<br>        ENDAT.<br>      ENDLOOP.<br>      WRITE:/(105) sy-uline.<br>      SKIP.<br>      FORMAT COLOR COL_TOTAL INTENSIFIED ON.<br>      WRITE:/ &#x27;No.of Exits:&#x27; , wf_smod.<br>      WRITE:/ &#x27;No.of BADis:&#x27; , wf_badi.<br>    ELSE.<br>      FORMAT COLOR COL_NEGATIVE INTENSIFIED ON.<br>      WRITE:/(105) &#x27;No userexits or BADis exist&#x27;.<br>    ENDIF.<br>  ELSE.<br>    FORMAT COLOR COL_NEGATIVE INTENSIFIED ON.<br>    WRITE:/(105) &#x27;Transaction does not exist&#x27;.<br>  ENDIF.<br>ENDFORM. &quot; get_data<br><br>*&amp;---------------------------------------------------------------------*<br>*&amp;      Form  line_sel<br>*&amp;---------------------------------------------------------------------*<br>*       text<br>*----------------------------------------------------------------------*<br>FORM line_sel .<br>  DATA : wf_object TYPE tadir-object.<br>  CLEAR wf_object.<br>  GET CURSOR FIELD field1.<br>  CHECK field1(8) EQ &#x27;WA_TADIR&#x27;.<br>  READ TABLE jtab WITH KEY obj_name = sy-lisel+1(20).<br>  MOVE jtab-object TO wf_object.<br>  CASE wf_object.<br>    WHEN &#x27;SMOD&#x27;.<br>      SET PARAMETER ID &#x27;MON&#x27; FIELD sy-lisel+1(10).<br>      CALL TRANSACTION &#x27;SMOD&#x27; AND SKIP FIRST SCREEN.<br>    WHEN &#x27;SXSD&#x27;.<br>      SET PARAMETER ID &#x27;EXN&#x27; FIELD sy-lisel+1(20).<br>      CALL TRANSACTION &#x27;SE18&#x27; AND SKIP FIRST SCREEN.<br>  ENDCASE.<br>ENDFORM. &quot; line_sel<br>*Extracted by Mass Download version 1.4.1 - E.G.Mellodew. 1998-2019. Sap Release 731<br></code></pre></td></tr></table></figure><p>运行程序，输入需要查找增强的事务码，运行</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202411232111034.png" alt="image-20241123211144784"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202411232112757.png" alt="image-20241123211244449"></p><h4 id="通过调试标准函数查找"><a href="#通过调试标准函数查找" class="headerlink" title="通过调试标准函数查找"></a>通过调试标准函数查找</h4><p>如果标准事务的运行中存在二代增强的调用，则在事务调用二代增强前，会先进入标准函数<code>MODX_FUNCTION_ACTIVE_CHECK</code>。</p><p>最后查找到的增强函数可以搭配自开发增强查找程序一起确定是否适用于当前业务要求。</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202411232124085.png" alt="image-20241123212411696"></p><p>比如运行MM02，修改物料描述并保存</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202411232127079.png" alt="image-20241123212743610"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202411232137495.png"></p><h4 id="通过调试标准程打断点call-CUSTOMER-FUNCTION查找"><a href="#通过调试标准程打断点call-CUSTOMER-FUNCTION查找" class="headerlink" title="通过调试标准程打断点call CUSTOMER-FUNCTION查找"></a>通过调试标准程打断点<code>call CUSTOMER-FUNCTION</code>查找</h4><p>以MM02修改物料描述为例</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202411241347933.png" alt="image-20241124134744298"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202411241349647.png" alt="image-20241124134917022"></p><h3 id="实施方式-1"><a href="#实施方式-1" class="headerlink" title="实施方式"></a>实施方式</h3><p>二代增强的实施涉及到<code>SMOD</code>和<code>CMOD</code>两个事务码：</p><ul><li><code>SMOD</code>：记录SAP系统预留的二代增强点。</li><li><code>CMOD</code>：可以理解为开发自定义的增强项目，将<code>SMOD</code>中开发实现的增强管理起来的一个<strong>已实现的增强的组</strong>。在<code>CMOD</code>中通过配置<code>SMOD</code>的增强点进行增强管理，通过激活<code>CMOD</code>的增强项目来开启项目中的增强点，如需要删除<code>CMOD</code>增强项目中的个别增强点，则需要先取消激活<code>CMOD</code>增强项目才可以进一步进行删除增强点的操作。</li></ul><p>四类二代增强实现案例：</p><ol><li>函数增强的实现方式可以参考<a href="https://blog.csdn.net/weixin_44686958/article/details/137672053">ABAP第二代增强-销售订单增强（示例）</a></li><li>GUI增强的实现方式</li><li>子屏幕增强的实现方式可以参考<a href="https://mp.weixin.qq.com/s?__biz=Mzg4MzI1OTM0OA==&mid=2247484205&idx=6&sn=0efc10554d22facbfee3a6248b4a6e83&chksm=cf4b6196f83ce880d00281f41677ccc2b292bab3bcce7081a02b6bc6b59ff8f84b9f003c163e&scene=21#wechat_redirect">增强篇4 CO01生产订单屏幕增强</a></li><li>表结构增强的实现方式可以参考上述子屏幕增强，一般搭配子屏幕增强一起实现</li></ol><h2 id="三代增强：基于类的增强"><a href="#三代增强：基于类的增强" class="headerlink" title="三代增强：基于类的增强"></a>三代增强：基于类的增强</h2><h3 id="查找三代增强的方法"><a href="#查找三代增强的方法" class="headerlink" title="查找三代增强的方法"></a>查找三代增强的方法</h3><h3 id="实施方式-2"><a href="#实施方式-2" class="headerlink" title="实施方式"></a>实施方式</h3><h2 id="四代增强：显示和隐式增强"><a href="#四代增强：显示和隐式增强" class="headerlink" title="四代增强：显示和隐式增强"></a>四代增强：显示和隐式增强</h2><h3 id="查找四代增强的方法"><a href="#查找四代增强的方法" class="headerlink" title="查找四代增强的方法"></a>查找四代增强的方法</h3><h3 id="实施方式-3"><a href="#实施方式-3" class="headerlink" title="实施方式"></a>实施方式</h3>]]></content>
    
    
    <categories>
      
      <category>SAP</category>
      
      <category>ABAP</category>
      
      <category>增强</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ABAP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>软件使用问题</title>
    <link href="/2024/11/11/027-%E8%BD%AF%E4%BB%B6%E4%BD%BF%E7%94%A8%E9%97%AE%E9%A2%98/"/>
    <url>/2024/11/11/027-%E8%BD%AF%E4%BB%B6%E4%BD%BF%E7%94%A8%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h1 id="HEXO"><a href="#HEXO" class="headerlink" title="HEXO"></a>HEXO</h1><h2 id="HEXO-D报错无法访问GITHUB仓库"><a href="#HEXO-D报错无法访问GITHUB仓库" class="headerlink" title="HEXO D报错无法访问GITHUB仓库"></a>HEXO D报错无法访问GITHUB仓库</h2><p>具体报错描述：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">fatal: unable to access GITHUB仓库地址: Failed to connect to 127.0.0.1 port 7890 after 2102 ms: Couldn<span class="hljs-string">&#x27;t connect to server</span><br></code></pre></td></tr></table></figure><p>原因：使用了代理，GIT配置的代理端口与代理软件设置的端口不一致。</p><p>解决方法：修改GIT代理端口与代理软件设置的端口一致</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git config --global http.proxy http://127.0.0.1:代理端口<br>git config --global http.proxy https://127.0.0.1:代理端口<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>问题处理</category>
      
    </categories>
    
    
    <tags>
      
      <tag>软件</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>EXCEL上传和下载</title>
    <link href="/2024/10/28/026-EXCEL%E4%B8%8A%E4%BC%A0%E5%92%8C%E4%B8%8B%E8%BD%BD/"/>
    <url>/2024/10/28/026-EXCEL%E4%B8%8A%E4%BC%A0%E5%92%8C%E4%B8%8B%E8%BD%BD/</url>
    
    <content type="html"><![CDATA[<h1 id="ABAP-EXCEL-处理"><a href="#ABAP-EXCEL-处理" class="headerlink" title="ABAP EXCEL 处理"></a>ABAP EXCEL 处理</h1><h2 id="EXCEL-转内表"><a href="#EXCEL-转内表" class="headerlink" title="EXCEL 转内表"></a>EXCEL 转内表</h2><h3 id="函数ALSM-EXCEL-TO-INTERNAL-TABLE"><a href="#函数ALSM-EXCEL-TO-INTERNAL-TABLE" class="headerlink" title="函数ALSM_EXCEL_TO_INTERNAL_TABLE"></a>函数<code>ALSM_EXCEL_TO_INTERNAL_TABLE</code></h3><p>本函数为开发中常用的解析excel数据表函数，由于它的接收excel数据的内表为<code>row-col-val</code>格式，所以有时候也可以用来解析特定的excel模板（比如申请表）。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs ABAP">DATA:<br>  lt_excel TYPE STANDARD TABLE OF alsmex_tabline,<br>  ls_excel TYPE alsmex_tabline,<br>  lv_value TYPE char256,<br>  lv_error TYPE string.<br><br>CALL FUNCTION &#x27;ALSM_EXCEL_TO_INTERNAL_TABLE&#x27;<br>  EXPORTING<br>    filename                = pv_fname &quot;文件路径<br>    i_begin_col             = 1  &quot;开始解析的列<br>    i_begin_row             = 2  &quot;开始解析的行<br>    i_end_col               = 3  &quot;结束解析的列<br>    i_end_row               = 50 &quot;结束解析的行<br>  TABLES<br>    intern                  = lt_excel &quot;接收解析后的excel数据，以row-col-value的格式存储<br>  EXCEPTIONS<br>    inconsistent_parameters = 1<br>    upload_ole              = 2<br>    OTHERS                  = 3.<br>IF sy-subrc &lt;&gt; 0.<br>  WRITE: / &#x27;SY-SUBRC = &#x27;, sy-subrc.<br>  MESSAGE ID sy-msgid TYPE &#x27;E&#x27; NUMBER sy-msgno<br>  WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4 INTO lv_error.<br>  WRITE: / lv_error.<br>ELSE.<br>  &quot;解析excel数据至指定格式内表<br>  SORT lt_excel BY row.<br>  LOOP AT lt_excel INTO ls_excel.<br>    lv_value = ls_excel-value.<br>    AT NEW row.<br>      INSERT INITIAL LINE INTO TABLE gt_toexcel ASSIGNING FIELD-SYMBOL(&lt;fs_excel&gt;).<br>    ENDAT.<br>    ASSIGN COMPONENT ls_excel-col OF STRUCTURE &lt;fs_excel&gt; TO FIELD-SYMBOL(&lt;fs_value&gt;).<br>    IF sy-subrc = 0.<br>      &lt;fs_value&gt; = lv_value.<br>    ENDIF.<br>  ENDLOOP.<br>ENDIF.<br></code></pre></td></tr></table></figure><p>在实际的业务实现过程中，本函数存在一些缺陷、并不能完全满足业务要求。</p><p>比如：</p><ul><li>接收excel数据的内表结构中<code>value</code>字段长度只有50</li><li>不能指定解析的sheet页</li></ul><p>开发者可以通过copy本函数进行自开发优化。详细可参考<a href="https://blog.csdn.net/weixin_41886784/article/details/129055504">ABAP: excel上载函数ALSM_EXCEL_TO_INTERNAL_TABLE</a>。</p><p>另外有一个函数<code>KCD_EXCEL_OLE_TO_INT_CONVERT</code>和<code>ALSM_EXCEL_TO_INTERNAL_TABLE</code>用法类似，不过它的接收excel数据的内表的<code>value</code>字段长度只有32。</p><h3 id="函数FILE-READ-AND-CONVERT-SAP-DATA"><a href="#函数FILE-READ-AND-CONVERT-SAP-DATA" class="headerlink" title="函数FILE_READ_AND_CONVERT_SAP_DATA"></a>函数<code>FILE_READ_AND_CONVERT_SAP_DATA</code></h3><p>本函数所在的函数组TRUX中有许多SAP的标准文件转换函数，其中<code>TEXT_CONVERT_XLS_TO_SAP</code>也是转换excel的函数。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs ABAP">  DATA:<br>    lv_error TYPE string.<br><br>  CALL FUNCTION &#x27;FILE_READ_AND_CONVERT_SAP_DATA&#x27;<br>    EXPORTING<br>      i_filename           = pv_fname &quot;文件路径<br>      i_servertyp          = &#x27;OLE2&#x27; &quot;解析方式<br>      i_fileformat         = &#x27;XLS&#x27;  &quot;对象文件格式<br>*     I_FIELD_SEPERATOR    =<br>*     I_LINE_HEADER        =<br>    TABLES<br>      i_tab_receiver       = pt_data &quot;接收excel的内表<br>    EXCEPTIONS<br>      file_not_found       = 1<br>      close_failed         = 2<br>      authorization_failed = 3<br>      open_failed          = 4<br>      conversion_failed    = 5<br>      OTHERS               = 6.<br><br>  IF sy-subrc &lt;&gt; 0.<br>    WRITE: / &#x27;SY-SUBRC = &#x27;, sy-subrc.<br>    MESSAGE ID sy-msgid TYPE &#x27;E&#x27; NUMBER sy-msgno<br>    WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4 INTO lv_error.<br>    WRITE: / lv_error.<br>    STOP.<br>  ENDIF.<br></code></pre></td></tr></table></figure><p>本函数的优点是接收的内表无需转换，可直接使用对应excel数据表格式的自定义内表进行接收；缺点是支持的excel文件格式只有<code>xls</code>，且在程序运行过程中会弹出并显示excel文件，excel文件如果处于打开状态则程序会解析失败。</p><h2 id="内表转-EXCEL"><a href="#内表转-EXCEL" class="headerlink" title="内表转 EXCEL"></a>内表转 EXCEL</h2><h3 id="函数GUI-DOWNLOAD"><a href="#函数GUI-DOWNLOAD" class="headerlink" title="函数GUI_DOWNLOAD"></a>函数<code>GUI_DOWNLOAD</code></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs ABAP">TABLES: sflight.<br><br>DATA: BEGIN OF lt_fieldnames  OCCURS 0,<br>        name TYPE char20,<br>      END OF lt_fieldnames.<br><br>SELECT carrid,<br>       fldate<br>  INTO TABLE @DATA(lt_sflight)<br>  FROM sflight<br>  UP TO 20 ROWS.<br><br>&quot;表格抬头<br>lt_fieldnames-name = &#x27;航班代码&#x27;.<br>APPEND lt_fieldnames.<br>lt_fieldnames-name = &#x27;航班日期&#x27;.<br>APPEND lt_fieldnames.<br><br>CALL FUNCTION &#x27;GUI_DOWNLOAD&#x27;<br>  EXPORTING<br>    filename   = &#x27;C:\Users\Wuyuan\Desktop\GUI_DOWNLOAD下载excel.xls&#x27;<br>    filetype   = &#x27;DAT&#x27;<br>    &quot;这里一般用DAT，AT会显示为-1000；<br>    &quot;如果用ASC则1000-不会显示为-1000；<br>    &quot;如果用DBF则不会有缩进，即字符前面的空格会被除去,而且字符的前导0也会输出；<br>    codepage   = &#x27;8404&#x27; &quot;字符格式标识符<br>  TABLES<br>    data_tab   = lt_sflight<br>    fieldnames = lt_fieldnames.<br></code></pre></td></tr></table></figure><p>基本的excel下载函数，类<code>CL_GUI_FRONTEND_SERVICES</code>的方法<code>GUI_DOWNLOAD</code>里面也是调用的本函数。</p><p>本函数虽然简单，但是其下载的excel的实际格式其实是<code>txt</code>，因此在打开excel时会弹出如下警告：</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202411112120999.png" alt="image-20241111212009481"></p><p>并且本函数仅支持<code>xls</code>格式的excel的下载，不支持<code>xlsx</code>格式。</p><h3 id="函数SAP-CONVERT-TO-XLS-FORMAT"><a href="#函数SAP-CONVERT-TO-XLS-FORMAT" class="headerlink" title="函数SAP_CONVERT_TO_XLS_FORMAT"></a>函数SAP_CONVERT_TO_XLS_FORMAT</h3><p>类似<code>GUI_DOWNLOAD</code>，支持<code>xlsx</code>格式，但是本函数没有定义excel表头的功能。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs ABAP">TABLES: sflight.<br><br>SELECT carrid,<br>       fldate<br>  INTO TABLE @DATA(lt_sflight)<br>  FROM sflight<br>  UP TO 20 ROWS.<br>  <br>CALL FUNCTION &#x27;SAP_CONVERT_TO_XLS_FORMAT&#x27;<br>  EXPORTING<br>    i_filename        = &#x27;C:\Users\Wuyuan\Desktop\GUI_DOWNLOAD下载excel.xlsx&#x27;<br>  TABLES<br>    i_tab_sap_data    = lt_sflight<br>  EXCEPTIONS<br>    conversion_failed = 1<br>    OTHERS            = 2.<br>IF sy-subrc &lt;&gt; 0.<br>* Implement suitable error handling here<br>ENDIF.  <br></code></pre></td></tr></table></figure><h3 id="OLE"><a href="#OLE" class="headerlink" title="OLE"></a>OLE</h3><p>可实现高度定制化的excel下载，参考<a href="https://community.sap.com/t5/application-development-blog-posts/using-ole2-objects-to-create-an-excel-file/ba-p/13208688">文章</a>。</p><h3 id="ABAP2XLSX"><a href="#ABAP2XLSX" class="headerlink" title="ABAP2XLSX"></a><code>ABAP2XLSX</code></h3><p>官方社区开发者开源的excel文件处理工具，参考<a href="https://community.sap.com/t5/application-development-blog-posts/using-ole2-objects-to-create-an-excel-file/ba-p/13208688">文章</a>。</p>]]></content>
    
    
    <categories>
      
      <category>SAP</category>
      
      <category>ABAP</category>
      
      <category>文件处理</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ABAP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SD 销售订单SO</title>
    <link href="/2024/10/14/025-SD%20%E9%94%80%E5%94%AE%E8%AE%A2%E5%8D%95SO/"/>
    <url>/2024/10/14/025-SD%20%E9%94%80%E5%94%AE%E8%AE%A2%E5%8D%95SO/</url>
    
    <content type="html"><![CDATA[<h1 id="销售订单SO"><a href="#销售订单SO" class="headerlink" title="销售订单SO"></a>销售订单SO</h1><p>在 SD 模块中，<strong>销售订单处理</strong> 是销售业务流程的核心步骤，用于记录客户的正式订单，并为后续的交货、发票和收款奠定基础。</p><h2 id="事务码"><a href="#事务码" class="headerlink" title="事务码"></a>事务码</h2><ul><li><code>VA01</code></li><li><code>VA02</code></li><li><code>VA03</code></li></ul><h2 id="BAPI"><a href="#BAPI" class="headerlink" title="BAPI"></a>BAPI</h2><p>在销售订单处理过程中，常用的 BAPI 包括创建、修改和读取销售订单的 BAPI。</p><ol><li><strong>BAPI_SALESORDER_CREATEFROMDAT2</strong><ul><li><strong>用途</strong>：用于根据给定的数据创建销售订单。</li><li>关键参数<ul><li><code>ORDER_HEADER_IN</code>：订单的头数据（如客户编号、销售组织等）。</li><li><code>ORDER_ITEM_IN</code>：订单的行项目信息（如物料编号、数量等）。</li></ul></li></ul></li><li><strong>BAPI_SALESORDER_GETDETAIL</strong><ul><li><strong>用途</strong>：获取销售订单的详细信息。</li><li>关键参数<ul><li><code>SALESORDER</code>：销售订单编号。</li></ul></li></ul></li></ol><h3 id="底表"><a href="#底表" class="headerlink" title="底表"></a>底表</h3><ol><li><strong>VBAK</strong> - 销售凭证头表<ul><li>存储销售订单的头信息。</li><li>字段描述<ul><li><code>VBELN</code>：销售凭证号（主键，订单编号）</li><li><code>VBTYP</code>：销售凭证类别（订单类型为 <code>C</code>）</li><li><code>AUART</code>：销售凭证类型（如 OR-标准订单）</li><li><code>VKORG</code>：销售组织</li><li><code>VTWEG</code>：分销渠道</li><li><code>KUNNR</code>：客户编号</li></ul></li></ul></li><li><strong>VBAP</strong> - 销售凭证行项目表<ul><li>存储销售订单的行项目信息。</li><li>字段描述<ul><li><code>VBELN</code>：销售凭证号（主键，外键关联到 VBAK）</li><li><code>POSNR</code>：行项目号（主键）</li><li><code>MATNR</code>：物料编号</li><li><code>KWMENG</code>：订单数量</li><li><code>NETPR</code>：净价（单价）</li><li><code>EDATU</code>：交货日期</li></ul></li></ul></li><li><strong>VBEP</strong> - 销售凭证交货计划行表<ul><li>存储销售订单的交货计划信息。</li><li>字段描述<ul><li><code>VBELN</code>：销售凭证号（主键，外键关联到 VBAP）</li><li><code>POSNR</code>：行项目号（主键，外键关联到 VBAP）</li><li><code>ETENR</code>：交货计划行项目号（主键）</li><li><code>EDATU</code>：交货日期</li><li><code>BMENG</code>：计划交货数量</li></ul></li></ul></li></ol><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202410142156858.png" alt="image-20241014215653579"></p>]]></content>
    
    
    <categories>
      
      <category>SAP</category>
      
      <category>SD</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SAP</tag>
      
      <tag>SD</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SD 销售询价和报价</title>
    <link href="/2024/10/13/024-SD%20%E9%94%80%E5%94%AE%E8%AF%A2%E4%BB%B7%E5%92%8C%E6%8A%A5%E4%BB%B7/"/>
    <url>/2024/10/13/024-SD%20%E9%94%80%E5%94%AE%E8%AF%A2%E4%BB%B7%E5%92%8C%E6%8A%A5%E4%BB%B7/</url>
    
    <content type="html"><![CDATA[<h1 id="销售询价和报价"><a href="#销售询价和报价" class="headerlink" title="销售询价和报价"></a>销售询价和报价</h1><p>客户向企业发送询价，企业根据客户的询价单返回报价单。</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202410132011845.png" alt="image-20241013201155590"></p><h2 id="销售询价"><a href="#销售询价" class="headerlink" title="销售询价"></a>销售询价</h2><h3 id="事务码"><a href="#事务码" class="headerlink" title="事务码"></a>事务码</h3><ul><li><code>VA11</code></li><li><code>VA12</code></li><li><code>VA13</code></li></ul><h3 id="BAPI"><a href="#BAPI" class="headerlink" title="BAPI"></a>BAPI</h3><p>在销售询价操作中，常用的 BAPI 包括创建、修改和读取销售询价的 BAPI。</p><ol><li><strong>BAPI_INQUIRY_CREATEFROMDATA2</strong><ul><li><strong>用途</strong>：用于根据给定的数据创建销售询价。</li><li>关键参数<ul><li><code>INQUIRY_HEADER_IN</code>：询价的头数据（如客户编号、销售组织等）。</li><li><code>INQUIRY_ITEM_IN</code>：询价的行项目信息（如物料编号、数量等）。</li></ul></li></ul></li><li><strong>BAPI_INQUIRY_GETDETAIL</strong><ul><li><strong>用途</strong>：获取销售询价的详细信息。</li><li>关键参数<ul><li><code>INQUIRY</code>：销售询价编号。</li></ul></li></ul></li></ol><h3 id="底表"><a href="#底表" class="headerlink" title="底表"></a>底表</h3><ol><li><strong>VBAK</strong> - 销售凭证头表<ul><li>存储销售询价的头信息。</li><li>字段描述<ul><li><code>VBELN</code>：销售凭证号（询价编号，主键）</li><li><code>AUART</code>：销售凭证类型（如 IN-标准询价）</li><li><code>VKORG</code>：销售组织</li><li><code>VTWEG</code>：分销渠道</li><li><code>KUNNR</code>：客户编号</li></ul></li></ul></li><li><strong>VBAP</strong> - 销售凭证行项目表<ul><li>存储销售询价的行项目信息。</li><li>字段描述<ul><li><code>VBELN</code>：销售凭证号（主键，外键关联到 VBAK）</li><li><code>POSNR</code>：行项目号（主键）</li><li><code>MATNR</code>：物料编号</li><li><code>KWMENG</code>：订单数量</li><li><code>EDATU</code>：交货日期</li></ul></li></ul></li><li><strong>VBEP</strong> - 销售凭证交货计划行表<ul><li>存储销售凭证的交货计划信息。</li><li>字段描述<ul><li><code>VBELN</code>：销售凭证号（主键，外键关联到 VBAP）</li><li><code>POSNR</code>：行项目号（主键，外键关联到 VBAP）</li><li><code>ETENR</code>：交货计划行项目号（主键）</li><li><code>EDATU</code>：交货日期</li><li><code>BMENG</code>：计划交货数量</li></ul></li></ul></li></ol><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202410132023735.png" alt="image-20241013202351401"></p><h2 id="销售报价"><a href="#销售报价" class="headerlink" title="销售报价"></a>销售报价</h2><h3 id="事务码-1"><a href="#事务码-1" class="headerlink" title="事务码"></a>事务码</h3><ul><li><code>VA21</code></li><li><code>VA22</code></li><li><code>VA23</code></li></ul><h3 id="BAPI-1"><a href="#BAPI-1" class="headerlink" title="BAPI"></a>BAPI</h3><p>在销售报价操作中，常用的 BAPI 包括创建、修改和读取销售报价的 BAPI。</p><ol><li><p><strong>BAPI_QUOTATION_CREATEFROMDATA2</strong></p><ul><li><strong>用途</strong>：用于根据给定的数据创建销售报价。</li><li>关键参数<ul><li><code>QUOTATION_HEADER_IN</code>：报价的头数据（如客户编号、销售组织等）。</li><li><code>QUOTATION_ITEM_IN</code>：报价的行项目信息（如物料编号、数量等）。</li></ul></li></ul></li><li><p><strong>BAPI_QUOTATION_GETDETAIL</strong></p><ul><li><strong>用途</strong>：获取销售报价的详细信息。</li><li>关键参数<ul><li><code>QUOTATION</code>：销售报价编号。</li></ul></li></ul></li></ol><h3 id="底表-1"><a href="#底表-1" class="headerlink" title="底表"></a>底表</h3><ol><li><strong>VBAK</strong> - 销售凭证头表<ul><li>存储销售报价的头信息。</li><li>字段描述<ul><li><code>VBELN</code>：销售凭证号（主键，报价编号）</li><li><code>AUART</code>：销售凭证类型（如 QT-标准报价）</li><li><code>VKORG</code>：销售组织</li><li><code>VTWEG</code>：分销渠道</li><li><code>KUNNR</code>：客户编号</li></ul></li></ul></li><li><strong>VBAP</strong> - 销售凭证行项目表<ul><li>存储销售报价的行项目信息。</li><li>字段描述<ul><li><code>VBELN</code>：销售凭证号（外键关联到 VBAK）</li><li><code>POSNR</code>：行项目号（主键）</li><li><code>MATNR</code>：物料编号</li><li><code>KWMENG</code>：报价数量</li><li><code>NETPR</code>：净价（单价）</li><li><code>EDATU</code>：交货日期</li></ul></li></ul></li><li><strong>VBEP</strong> - 销售凭证交货计划行表<ul><li>存储销售文档的交货计划信息。</li><li>字段描述<ul><li><code>VBELN</code>：销售凭证号（外键关联到 VBAP）</li><li><code>POSNR</code>：行项目号（外键关联到 VBAP）</li><li><code>ETENR</code>：交货计划行项目号（主键）</li><li><code>EDATU</code>：交货日期</li><li><code>BMENG</code>：计划交货数量</li></ul></li></ul></li></ol><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202410132155041.png" alt="image-20241013215541586"></p><h2 id="相同的询报价底表"><a href="#相同的询报价底表" class="headerlink" title="相同的询报价底表"></a>相同的询报价底表</h2><p>在 SAP 系统中，<strong>销售询价</strong> 和 <strong>销售报价</strong> 都涉及到相同的底表，即 <strong>VBAK</strong>、<strong>VBAP</strong> 和 <strong>VBEP</strong>，这主要是因为 SAP 的销售与分销模块中，销售凭证（包括询价、报价、订单等）的结构和数据存储方式是统一的。这些表是通用的销售凭证表格，用于存储各种类型的销售凭证数据。</p><h3 id="区分询价和报价"><a href="#区分询价和报价" class="headerlink" title="区分询价和报价"></a>区分询价和报价</h3><p>在 <strong><code>VBAK</code></strong> 表中，字段 <strong><code>VBTYP</code></strong> 存储了销售凭证的类型：</p><ul><li><code>A</code>：询价</li><li><code>B</code>：报价</li></ul>]]></content>
    
    
    <categories>
      
      <category>SAP</category>
      
      <category>SD</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SAP</tag>
      
      <tag>SD</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SD 销售与分销基本流程基本流程</title>
    <link href="/2024/10/13/023-SD%20%E5%9F%BA%E6%9C%AC%E6%B5%81%E7%A8%8B/"/>
    <url>/2024/10/13/023-SD%20%E5%9F%BA%E6%9C%AC%E6%B5%81%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<h1 id="SD-销售与分销基本流程"><a href="#SD-销售与分销基本流程" class="headerlink" title="SD 销售与分销基本流程"></a>SD 销售与分销基本流程</h1><p>SAP SD（销售与分销）模块的基本业务流程主要包括从销售机会的生成到最终的交货和开票，涵盖了销售订单管理、交货、发货、开票和收款等环节。</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202410131534448.png" alt="image-20241013153400086"></p><h2 id="销售询价和报价"><a href="#销售询价和报价" class="headerlink" title="销售询价和报价"></a>销售询价和报价</h2><ul><li><p><strong>销售询价（Inquiry）</strong></p><ul><li>操作：使用事务码 <code>VA11</code> 创建销售询价。填写客户信息、物料信息、数量等。</li><li>系统功能：记录客户的询价需求，为后续报价提供参考。</li></ul><p><strong>销售报价（Quotation）</strong></p><ul><li>操作：使用事务码 <code>VA21</code> 创建销售报价。根据询价信息填写报价单，指定报价的有效期、交货条件、价格等。</li><li>系统功能：生成具有法律约束力的报价文档，供客户确认。</li></ul></li></ul><h2 id="销售订单处理"><a href="#销售订单处理" class="headerlink" title="销售订单处理"></a>销售订单处理</h2><ul><li><strong>销售订单创建（Sales Order Creation）</strong><ul><li>操作：使用事务码 <code>VA01</code> 创建销售订单。系统会自动带入报价信息，用户确认订单数据（如物料、数量、交货时间等）。</li><li>系统功能：将客户的需求正式转化为销售订单，锁定订单数据。</li></ul></li><li><strong>销售订单确认（Order Confirmation）</strong><ul><li>操作：销售订单创建时，系统会自动检查客户的信用额度和物料的可用性。</li><li>系统功能：确认订单的可执行性，如存在异常（如信用超限或库存不足），系统会发出警告或阻止订单处理。</li></ul></li></ul><h2 id="物料可用性检查和需求计划"><a href="#物料可用性检查和需求计划" class="headerlink" title="物料可用性检查和需求计划"></a>物料可用性检查和需求计划</h2><ul><li><strong>物料可用性检查（Availability Check）</strong><ul><li>操作：在销售订单创建时，系统自动检查物料的库存状况。使用事务码 <code>CO09</code> 查看物料的可用性。</li><li>系统功能：确保订单可以按时交付，如果库存不足，生成相应的需求。</li></ul></li><li><strong>需求计划（MRP）</strong><ul><li>操作：使用事务码 <code>MD01</code> 运行物料需求计划，以安排生产或采购。</li><li>系统功能：根据销售订单的需求生成采购申请或生产计划，确保物料及时到货。</li></ul></li></ul><h2 id="交货和发货"><a href="#交货和发货" class="headerlink" title="交货和发货"></a>交货和发货</h2><ul><li><strong>创建交货单（Delivery Document Creation）</strong><ul><li>操作：使用事务码 <code>VL01N</code> 创建交货单，确认交货的物料、数量和交货日期。</li><li>系统功能：交货单生成后，系统会锁定相应的库存，并通知仓库进行准备。</li></ul></li><li><strong>拣货和发货（Picking and Packing）</strong><ul><li>操作：使用 <code>VL02N</code> 进行拣货确认，并记录拣货的实际情况。</li><li>系统功能：更新库存状态，将物料从可用库存转移至交货库存。</li></ul></li><li><strong>发运（Goods Issue）</strong><ul><li>操作：在 <code>VL02N</code> 中执行发运过账，确认货物已经发出。</li><li>系统功能：减少库存，生成物料凭证和会计凭证，记录物料流动。</li></ul></li></ul><h2 id="开票"><a href="#开票" class="headerlink" title="开票"></a>开票</h2><ul><li><strong>创建发票（Invoice Creation）</strong><ul><li>操作：使用事务码 <code>VF01</code> 创建发票，可以基于交货单或销售订单生成。</li><li>系统功能：记录应收账款，系统会自动更新客户的账务信息。</li></ul></li><li><strong>发票校验和发布（Invoice Verification and Release）</strong><ul><li>操作：系统会自动检查发票的正确性，用户可使用 <code>VF02</code> 修改发票。</li><li>系统功能：发布发票后，系统会确认应收账款。</li></ul></li></ul><h2 id="收款和应收账款处理"><a href="#收款和应收账款处理" class="headerlink" title="收款和应收账款处理"></a>收款和应收账款处理</h2><ul><li><strong>收款处理（Payment Processing）</strong><ul><li>操作：使用事务码 <code>F-28</code> 记录客户的付款，清账应收款项。</li><li>系统功能：更新客户账户，核销相应的应收账款。</li></ul></li><li><strong>应收账款管理（Accounts Receivable Management）</strong><ul><li>操作：在 <code>FBL5N</code> 中查看客户的应收账款明细。</li><li>系统功能：系统自动维护客户的账龄分析和应收账款余额。</li></ul></li></ul><h2 id="退货和信用单处理（可选流程）"><a href="#退货和信用单处理（可选流程）" class="headerlink" title="退货和信用单处理（可选流程）"></a>退货和信用单处理（可选流程）</h2><ul><li><strong>客户退货（Returns）</strong><ul><li>操作：使用事务码 <code>VA01</code> 创建退货订单，记录退货的物料和数量。</li><li>系统功能：退货订单会影响库存和财务，生成相应的退货凭证。</li></ul></li><li><strong>信用单（Credit Memo）</strong><ul><li>操作：使用事务码 <code>VF01</code> 创建信用单，调整客户应收账款。</li><li>系统功能：减少应收账款，更新客户的账务信息。</li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>SAP</category>
      
      <category>SD</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SAP</tag>
      
      <tag>SD</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MM 发票校验</title>
    <link href="/2024/10/10/022-MM%20%E5%8F%91%E7%A5%A8%E6%A0%A1%E9%AA%8C/"/>
    <url>/2024/10/10/022-MM%20%E5%8F%91%E7%A5%A8%E6%A0%A1%E9%AA%8C/</url>
    
    <content type="html"><![CDATA[<h1 id="发票检验"><a href="#发票检验" class="headerlink" title="发票检验"></a>发票检验</h1><p>发票校验通过与采购订单和收货的匹配，确保收到的发票符合采购订单中约定的条件。发票校验的操作一般通过事务码 <strong><code>MIRO</code></strong> 来完成，目的是对供应商发票进行处理，并生成应付账款凭证。</p><h2 id="事务码"><a href="#事务码" class="headerlink" title="事务码"></a>事务码</h2><ul><li><code>MIRO</code></li></ul><h2 id="BAPI"><a href="#BAPI" class="headerlink" title="BAPI"></a>BAPI</h2><p>在发票校验操作中，通常使用的 BAPI 是 <code>BAPI_INCOMINGINVOICE_CREATE</code>，它用于创建供应商的发票凭证。</p><ol><li><strong>BAPI_INCOMINGINVOICE_CREATE</strong><ul><li><strong>用途</strong>：创建供应商发票凭证，包括发票金额、采购订单引用和税额等。</li><li>关键参数<ul><li><code>HEADERDATA</code>: 发票凭证头数据（包含凭证日期、发票金额等）。</li><li><code>ITEMDATA</code>: 发票凭证行项目数据（包含采购订单号、行项目号、发票数量、金额等）。</li></ul></li></ul></li></ol><h2 id="底表"><a href="#底表" class="headerlink" title="底表"></a>底表</h2><h3 id="主要底表"><a href="#主要底表" class="headerlink" title="主要底表"></a>主要底表</h3><ol><li><strong>RBKP（发票凭证头表）</strong>：存储发票的头信息。<ul><li>字段描述<ul><li><code>BELNR</code>：发票凭证号（主键，发票的唯一标识）</li><li><code>GJAHR</code>：财务年度（主键）</li><li><code>BUKRS</code>：公司代码</li><li><code>BLDAT</code>：凭证日期</li><li><code>BUDAT</code>：过账日期</li><li><code>XBLNR</code>：参考凭证编号</li><li><code>LIFNR</code>：供应商编号</li></ul></li></ul></li><li><strong>RSEG（发票凭证行项目表）</strong>：存储发票的行项目信息。<ul><li>字段描述<ul><li><code>BELNR</code>：发票凭证号（主键，外键关联到 RBKP）</li><li><code>GJAHR</code>：财务年度（主键，外键关联到 RBKP）</li><li><code>BUZEI</code>：行项目号（主键）</li><li><code>EBELN</code>：采购订单号（外键关联到 EKPO）</li><li><code>EBELP</code>：采购订单行项目（外键关联到 EKPO）</li><li><code>MENGE</code>：发票数量</li><li><code>WRBTR</code>：发票金额</li><li><code>SGTXT</code>：行项目文本</li></ul></li></ul></li><li><strong>BKPF（会计凭证头表）</strong>：存储会计凭证的头信息。<ul><li>字段描述<ul><li><code>BUKRS</code>：公司代码（主键）</li><li><code>BELNR</code>：会计凭证号（主键）</li><li><code>GJAHR</code>：财务年度（主键）</li><li><code>BLDAT</code>：凭证日期</li><li><code>BUDAT</code>：过账日期</li><li><code>USNAM</code>：用户名称</li><li><code>XBLNR</code>：参考凭证编号</li></ul></li></ul></li><li><strong>BSEG（会计凭证行项目表）</strong>：存储会计凭证的行项目信息。<ul><li>字段描述<ul><li><code>BUKRS</code>：公司代码（主键，外键关联到 BKPF）</li><li><code>BELNR</code>：会计凭证号（主键，外键关联到 BKPF）</li><li><code>GJAHR</code>：财务年度（主键，外键关联到 BKPF）</li><li><code>BUZEI</code>：行项目号（主键）</li><li><code>HKONT</code>：总账科目</li><li><code>LIFNR</code>：供应商编号</li><li><code>WRBTR</code>：金额</li></ul></li></ul></li><li><strong>EKKO（采购订单头表）</strong>：存储采购订单的头信息。<ul><li>字段描述<ul><li><code>EBELN</code>：采购订单号（主键）</li><li><code>LIFNR</code>：供应商编号</li><li><code>EKORG</code>：采购组织</li><li><code>BUKRS</code>：公司代码</li><li><code>BEDAT</code>：采购订单日期</li></ul></li></ul></li><li><strong>EKPO（采购订单行项目表）</strong>：存储采购订单的行项目信息。<ul><li>字段描述<ul><li><code>EBELN</code>：采购订单号（主键，外键关联到 EKKO）</li><li><code>EBELP</code>：采购订单行项目号（主键）</li><li><code>MATNR</code>：物料编号</li><li><code>MENGE</code>：订单数量</li><li><code>NETPR</code>：净价</li><li><code>WERKS</code>：工厂</li></ul></li></ul></li></ol><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202410102100841.png" alt="image-20241010210025787"></p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul><li><strong>发票校验操作</strong> 涉及到 <strong>RBKP</strong>、<strong>RSEG</strong>、<strong>BKPF</strong>、<strong>BSEG</strong>、<strong>EKKO</strong> 和 <strong>EKPO</strong> 等多个表。</li><li><strong>表之间的关系</strong> 通过采购订单号、发票凭证号、会计凭证号等字段进行关联，确保数据的连贯性和完整性。</li><li>使用 <strong><code>BAPI_INCOMINGINVOICE_CREATE</code></strong> 可以自动化发票校验流程，生成发票凭证和会计凭证。</li></ul>]]></content>
    
    
    <categories>
      
      <category>SAP</category>
      
      <category>MM</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SAP</tag>
      
      <tag>MM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MM 收货过账</title>
    <link href="/2024/10/09/021-MM%20%E6%94%B6%E8%B4%A7%E8%BF%87%E8%B4%A6/"/>
    <url>/2024/10/09/021-MM%20%E6%94%B6%E8%B4%A7%E8%BF%87%E8%B4%A6/</url>
    
    <content type="html"><![CDATA[<h1 id="收货过账"><a href="#收货过账" class="headerlink" title="收货过账"></a>收货过账</h1><p>收货过账通过事务码 <strong><code>MIGO</code></strong> 来执行，通常是基于采购订单、生产订单、或采购申请进行的。收货过账会影响库存，并生成相应的凭证记录。</p><h2 id="事务码"><a href="#事务码" class="headerlink" title="事务码"></a>事务码</h2><ul><li><code>MIGO</code></li></ul><h2 id="BAPI"><a href="#BAPI" class="headerlink" title="BAPI"></a>BAPI</h2><p>在收货过账操作中，以下 BAPI 常用于集成或自动化操作：</p><ol><li><p><strong>BAPI_GOODSMVT_CREATE</strong></p><ul><li><p><strong>用途</strong>：创建物料凭证（用于收货过账）。</p></li><li><p>功能</p><ul><li>该 BAPI 允许用户在系统中创建物料移动，包括收货、发货、库存转移等。常用于采购订单收货。</li></ul></li><li><p>关键参数</p><ul><li><code>GOODSMVT_HEADER</code>: 物料凭证头数据。</li><li><code>GOODSMVT_ITEM</code>: 物料凭证行项目数据。</li></ul></li></ul></li><li><p><strong>BAPI_GOODSMVT_GETDETAIL</strong></p></li></ol><ul><li><p><strong>用途</strong>：获取物料凭证的详细信息。</p></li><li><p>关键参数</p><ul><li><code>MATERIALDOCUMENT</code>: 物料凭证号（<code>MBLNR</code>）。</li></ul></li></ul><ol start="3"><li><p><strong>BAPI_TRANSACTION_COMMIT</strong></p><ul><li><strong>用途</strong>：用于在 BAPI 之后提交事务，确保物料移动或收货过账成功记录到数据库。</li></ul></li></ol><h2 id="底表"><a href="#底表" class="headerlink" title="底表"></a>底表</h2><ol><li><strong>MKPF</strong> - 物料凭证表<ul><li>记录物料凭证的头数据。</li><li>字段描述<ul><li><code>MBLNR</code>: 物料凭证号</li><li><code>MJAHR</code>: 物料凭证年度</li><li><code>BUDAT</code>: 过账日期</li><li><code>BLDAT</code>: 凭证日期</li></ul></li></ul></li><li><strong>MSEG</strong> - 物料凭证行项目表<ul><li>记录物料凭证的行项目数据。</li><li>字段描述<ul><li><code>MBLNR</code>: 物料凭证号</li><li><code>MATNR</code>: 物料编号</li><li><code>WERKS</code>: 工厂</li><li><code>LGORT</code>: 库存地点</li><li><code>MENGE</code>: 数量</li><li><code>EBELN</code>: 采购订单号</li><li><code>EBELP</code>: 采购订单行项目</li></ul></li></ul></li><li><strong>EKKO</strong> - 采购订单头表<ul><li>记录采购订单的头信息（已在采购订单操作中详细说明）。</li><li>字段描述<ul><li><code>EBELN</code>: 采购订单号</li><li><code>LIFNR</code>: 供应商编号</li></ul></li></ul></li><li><strong>EKPO</strong> - 采购订单行项目表<ul><li>记录采购订单的行项目数据。</li><li>字段描述<ul><li><code>EBELN</code>: 采购订单号</li><li><code>EBELP</code>: 采购订单行项目</li><li><code>MATNR</code>: 物料编号</li><li><code>MENGE</code>: 采购数量</li><li><code>WERKS</code>: 工厂</li></ul></li></ul></li><li><strong>RBKP</strong> - 发票凭证头表<ul><li>记录发票凭证的头信息。</li></ul></li><li><strong>RSEG</strong> - 发票凭证行项目表<ul><li>记录发票凭证的行项目数据。</li></ul></li></ol><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202410092118570.png" alt="image-20241009211820024"></p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul><li><strong>收货过账操作</strong> 通常通过事务码 <code>MIGO</code> 来完成，并且会涉及到多个底表，包括物料凭证头表（<code>MKPF</code>）、物料凭证行项目表（<code>MSEG</code>）、采购订单表（<code>EKKO</code> 和 <code>EKPO</code>）。</li><li><strong>表之间的关联</strong>：<code>MSEG</code> 记录了物料凭证的行项目，并通过采购订单号（<code>EBELN</code>）和行项目号（<code>EBELP</code>）与采购订单行项目（<code>EKPO</code>）相关联。</li><li><strong>BAPI</strong>：<code>BAPI_GOODSMVT_CREATE</code> 是创建物料凭证的关键 BAPI，通常用于自动化的收货过账操作。</li></ul>]]></content>
    
    
    <categories>
      
      <category>SAP</category>
      
      <category>MM</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SAP</tag>
      
      <tag>MM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MM 采购订单PO</title>
    <link href="/2024/10/08/020-MM%20%E9%87%87%E8%B4%AD%E8%AE%A2%E5%8D%95PO/"/>
    <url>/2024/10/08/020-MM%20%E9%87%87%E8%B4%AD%E8%AE%A2%E5%8D%95PO/</url>
    
    <content type="html"><![CDATA[<h1 id="采购订单"><a href="#采购订单" class="headerlink" title="采购订单"></a>采购订单</h1><p>采购订单的创建、修改和处理通过事务码 <code>ME21N</code>、<code>ME22N</code>、<code>ME23N</code> 等来完成。</p><h2 id="事务码"><a href="#事务码" class="headerlink" title="事务码"></a>事务码</h2><ul><li><p><code>ME21N</code></p></li><li><p><code>ME22N</code></p></li><li><p><code>ME23N</code></p></li></ul><h2 id="BAPI"><a href="#BAPI" class="headerlink" title="BAPI"></a>BAPI</h2><ol><li><strong>BAPI_PO_CREATE1</strong><ul><li><strong>用途</strong>: 创建采购订单</li><li>关键参数<ul><li><code>POHEADER</code>: 采购订单头数据</li><li><code>POITEM</code>: 采购订单行项目数据</li><li><code>POACCOUNT</code>: 账户分配数据</li><li><code>POCOND</code>: 条件数据</li></ul></li></ul></li><li><strong>BAPI_PO_CHANGE</strong><ul><li><strong>用途</strong>: 修改采购订单</li><li>关键参数<ul><li><code>POHEADER</code>: 采购订单头数据</li><li><code>POITEM</code>: 采购订单行项目数据</li></ul></li></ul></li><li><strong>BAPI_PO_GETDETAIL1</strong><ul><li><strong>用途</strong>: 获取采购订单详细信息</li><li>关键参数<ul><li><code>PURCHASEORDER</code>: 采购订单编号</li></ul></li></ul></li><li><strong>BAPI_PO_DELETE</strong><ul><li><strong>用途</strong>: 删除采购订单</li><li>关键参数<ul><li><code>PURCHASEORDER</code>: 采购订单编号</li></ul></li></ul></li></ol><h2 id="底表"><a href="#底表" class="headerlink" title="底表"></a>底表</h2><ol><li><strong>EKKO</strong> - 采购订单头表<ul><li>字段描述<ul><li><code>EBELN</code>: 采购订单编号</li><li><code>BUKRS</code>: 公司代码</li><li><code>EKORG</code>: 采购组织</li><li><code>EKGRP</code>: 采购组</li><li><code>LIFNR</code>: 供应商编号</li><li><code>BEDAT</code>: 采购订单日期</li></ul></li></ul></li><li><strong>EKPO</strong> - 采购订单行项目表<ul><li>字段描述<ul><li><code>EBELN</code>: 采购订单编号</li><li><code>EBELP</code>: 采购订单行项目编号</li><li><code>MATNR</code>: 物料编号</li><li><code>MENGE</code>: 采购数量</li><li><code>WERKS</code>: 工厂</li><li><code>NETPR</code>: 物料净价</li><li><code>ELIKZ</code>: 交货完成标识</li></ul></li></ul></li><li><strong>EKKN</strong> - 采购凭证账户分配表<ul><li>字段描述<ul><li><code>EBELN</code>: 采购订单编号</li><li><code>EBELP</code>: 采购订单行项目</li><li><code>KOSTL</code>: 成本中心</li><li><code>SAKTO</code>: 总账科目</li><li><code>AUFNR</code>: 订单号</li></ul></li></ul></li><li><strong>EKES</strong> - 采购订单交货表<ul><li>字段描述<ul><li><code>EBELN</code>: 采购订单编号</li><li><code>EBELP</code>: 采购订单行项目编号</li><li><code>EINDT</code>: 预计交货日期</li><li><code>EREKZ</code>: 收货标识</li></ul></li></ul></li><li><strong>EBAN</strong> - 采购申请表<ul><li>字段描述<ul><li><code>BANFN</code>: 采购申请编号</li><li><code>BNFPO</code>: 采购申请行项目</li><li><code>MATNR</code>: 物料编号</li><li><code>MENGE</code>: 申请数量</li><li><code>WERKS</code>: 工厂</li><li><code>BADAT</code>: 需求日期</li></ul></li></ul></li></ol><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202410082116540.png" alt="image-20241008211654142"></p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul><li><strong>采购订单的操作</strong> 通常通过事务码 <code>ME21N</code> 进行，系统会记录相关数据到多个表中，主要包括采购订单头表（<code>EKKO</code>）、采购订单行项目表（<code>EKPO</code>）和采购凭证账户分配表（<code>EKKN</code>）等。</li><li><strong>表之间的关系</strong>：<code>EKKO</code> 表存储采购订单的头数据，<code>EKPO</code> 存储行项目数据，<code>EKKN</code> 存储账户分配数据，并且通过采购订单编号（<code>EBELN</code>）和项目号（<code>EBELP</code>）进行关联。</li><li><strong>BAPI</strong>：使用 BAPI 如 <code>BAPI_PO_CREATE1</code> 和 <code>BAPI_PO_CHANGE</code> 可以自动化采购订单的创建和修改。</li></ul>]]></content>
    
    
    <categories>
      
      <category>SAP</category>
      
      <category>MM</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SAP</tag>
      
      <tag>MM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MM 采购申请PR</title>
    <link href="/2024/10/07/019-MM%20%E9%87%87%E8%B4%AD%E7%94%B3%E8%AF%B7PR/"/>
    <url>/2024/10/07/019-MM%20%E9%87%87%E8%B4%AD%E7%94%B3%E8%AF%B7PR/</url>
    
    <content type="html"><![CDATA[<h1 id="采购申请"><a href="#采购申请" class="headerlink" title="采购申请"></a>采购申请</h1><p>采购申请是采购流程的起点，但这个操作其实是一个可选的操作。在创建采购申请之前，可以创建采购信息记录来关联供应商与物料用于简化创建采购申请的操作；创建采购申请之后可以继续创建采购订单。</p><h2 id="事务码"><a href="#事务码" class="headerlink" title="事务码"></a>事务码</h2><ul><li><p><code>ME51N</code></p></li><li><p><code>ME52N</code></p></li><li><p><code>ME53N</code></p></li></ul><h2 id="BAPI"><a href="#BAPI" class="headerlink" title="BAPI"></a>BAPI</h2><ol><li><strong>BAPI_REQUISITION_CREATE</strong><ul><li><strong>用途</strong>: 创建采购申请</li><li>关键参数<ul><li><code>REQUISITION_ITEMS</code>: 包含采购申请的详细信息，如物料编号、数量、工厂等。</li></ul></li></ul></li><li><strong>BAPI_REQUISITION_CHANGE</strong><ul><li><strong>用途</strong>: 修改采购申请</li><li>关键参数<ul><li><code>REQUISITION_ITEMS</code>: 包含要修改的采购申请行项目数据。</li></ul></li></ul></li><li><strong>BAPI_REQUISITION_GETDETAIL</strong><ul><li><strong>用途</strong>: 获取采购申请的详细信息</li><li>关键参数<ul><li><code>NUMBER</code>: 采购申请编号，用于获取采购申请的详细数据。</li></ul></li></ul></li><li><strong>BAPI_REQUISITION_DELETE</strong><ul><li><strong>用途</strong>: 删除采购申请</li><li>关键参数<ul><li><code>NUMBER</code>: 采购申请编号，删除指定的采购申请。</li></ul></li></ul></li></ol><p>创建采购申请还有一个BAPI<code>BAPI_PR_CREATE</code>，这个似乎用的比较多（我这边也是用这个）。</p><p>两个BAPI的区别可参考：</p><ol><li><a href="https://blog.csdn.net/wxyix7/article/details/132069125">https://blog.csdn.net/wxyix7/article/details/132069125</a></li><li><a href="https://www.cnblogs.com/BruceKing/p/14785856.html">https://www.cnblogs.com/BruceKing/p/14785856.html</a></li></ol><h2 id="底表"><a href="#底表" class="headerlink" title="底表"></a>底表</h2><ol><li><strong>EBAN</strong> - 采购申请表<ul><li>字段描述<ul><li><code>BANFN</code>：采购申请编号</li><li><code>BNFPO</code>：采购申请行项目</li><li><code>MATNR</code>：物料编号</li><li><code>MENGE</code>：采购数量</li><li><code>WERKS</code>：工厂</li><li><code>BADAT</code>：需求日期</li></ul></li></ul></li><li><strong>EBKN</strong> - 采购申请账户分配表<ul><li>字段描述<ul><li><code>BANFN</code>：采购申请编号</li><li><code>BNFPO</code>：采购申请行项目</li><li><code>KOSTL</code>：成本中心</li><li><code>AUFNR</code>：订单号</li><li><code>SAKTO</code>：总账科目</li></ul></li></ul></li><li><strong>EKKN</strong> - 采购凭证账户分配表<ul><li>字段描述<ul><li><code>EBELN</code>：采购订单号（与采购申请结合使用时会包含采购申请数据）</li><li><code>EBELP</code>：采购订单项目</li><li><code>BANFN</code>：采购申请编号</li><li><code>BNFPO</code>：采购申请行项目</li></ul></li></ul></li></ol><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202410072130613.png" alt="image-20241007213031693"></p>]]></content>
    
    
    <categories>
      
      <category>SAP</category>
      
      <category>MM</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SAP</tag>
      
      <tag>MM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MM 主数据</title>
    <link href="/2024/09/04/018-MM%20%E4%B8%BB%E6%95%B0%E6%8D%AE/"/>
    <url>/2024/09/04/018-MM%20%E4%B8%BB%E6%95%B0%E6%8D%AE/</url>
    
    <content type="html"><![CDATA[<h1 id="主数据"><a href="#主数据" class="headerlink" title="主数据"></a>主数据</h1><p>主数据是那些在IT系统中<strong>保持不变或者说很少变化</strong>的记录特定对象属性的数据，相对的就是业务数据；业务数据是IT系统中业务流程中产生的经常变化的数据。</p><h2 id="物料主数据"><a href="#物料主数据" class="headerlink" title="物料主数据"></a>物料主数据</h2><p>物料主数据用于记录物料的基本属性，通过物料类型和物料组进行分类，通过物料主数据编号范围自动生成物料编号，<strong>在公司、工厂、库存地点各层级上有着不用的属性</strong>。</p><p><strong>以下为物料主数据涉及到的数据表以及它们之间的关系：</strong></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202409292207006.png" alt="image-20240929220750639"></p><h3 id="物料类型"><a href="#物料类型" class="headerlink" title="物料类型"></a>物料类型</h3><p>物料类型是用于定义物料主数据特性的分类方式，控制物料的特性和业务流程。</p><ol><li><strong>事务码</strong><ul><li><code>OMS2</code></li></ul></li><li><strong>底表</strong>：<ul><li><strong>T134</strong></li></ul></li><li><strong>前台配置路径</strong>：<ul><li>SAP Easy Access &gt; SPRO &gt; SAP Reference IMG &gt; Logistics - General &gt; Material Master &gt; Basic Settings &gt; Material Types</li></ul></li><li>常见的物料类型<ol><li><strong>ROH（Raw Materials）</strong>：原材料，用于生产加工，不用于销售。</li><li><strong>HALB（Semi-Finished Products）</strong>：半成品，在生产过程中已经加工但未完全完成的物料。</li><li><strong>FERT（Finished Products）</strong>：成品，已经完成生产并准备销售的物料。</li><li><strong>HIBE（Operating Supplies）</strong>：辅料，生产过程中需要但不成为产品一部分的物料。</li><li><strong>VERP（Packaging Material）</strong>：包装材料，用于产品的包装和运输。</li><li><strong>ERSA（Spare Parts）</strong>：备件，用于维修和维护的物料。</li><li><strong>DIEN（Services）</strong>：服务，不是实物物料，而是提供的服务。</li></ol></li></ol><h3 id="物料组"><a href="#物料组" class="headerlink" title="物料组"></a>物料组</h3><p>物料组是用于对物料进行市场和管理的分类，帮助企业在采购、库存、销售等业务中进行批量管理。</p><ol><li><strong>事务码</strong><ul><li><code>OMSF</code></li></ul></li><li><strong>底表</strong>：<ul><li><strong>T023</strong></li></ul></li><li><strong>前台配置路径</strong>： <ul><li>SAP Easy Access &gt; SPRO &gt; SAP Reference IMG &gt; Logistics - General &gt; Material Master &gt; Settings for Key Fields &gt; Define Material Groups</li></ul></li><li><strong>常见的物料组示例</strong><ol><li><strong>1000 - Electronics</strong>：电子产品，如手机、电脑等。</li><li><strong>2000 - Furniture</strong>：家具类产品，如桌椅、沙发等。</li><li><strong>3000 - Chemicals</strong>：化工产品，用于生产或加工的化学品。</li><li><strong>4000 - Office Supplies</strong>：办公用品，如文具、打印纸等。</li><li><strong>5000 - Automotive Parts</strong>：汽车零部件，用于汽车维修和制造的零件。</li><li><strong>6000 - Clothing</strong>：服装，涉及各类成衣。</li><li><strong>7000 - Food Products</strong>：食品类产品，如饮料、零食等。</li></ol></li></ol><h3 id="物料类型和物料组的区别"><a href="#物料类型和物料组的区别" class="headerlink" title="物料类型和物料组的区别"></a>物料类型和物料组的区别</h3><ul><li><strong>物料类型</strong>：用于系统配置，控制物料处理的方式和特性。</li><li><strong>物料组</strong>：用于业务操作，便于物料的分类和管理。</li></ul><p>在SAP系统中，企业应根据自身业务需求合理配置物料类型和物料组，以优化物料管理和业务流程。</p><h3 id="物料编号范围"><a href="#物料编号范围" class="headerlink" title="物料编号范围"></a>物料编号范围</h3><p>用于自动生成物料主数据的编码。每个编号范围关联对应的物料类型。</p><ol><li><strong>事务码</strong>：<ul><li><code>MMNR</code></li></ul></li><li><strong>底表</strong>：<ul><li><strong>NRIV</strong>: 存储所有编号范围对象的定义和当前状态。</li></ul></li><li><strong>前台配置路径</strong>： SAP Easy Access &gt; SPRO &gt; SAP Reference IMG &gt; Logistics - General &gt; Material Master &gt; Basic Settings &gt; Material Types &gt; Define Number Ranges for Each Material Type</li></ol><h3 id="物料主数据-1"><a href="#物料主数据-1" class="headerlink" title="物料主数据"></a>物料主数据</h3><ol><li><p><strong>事务码</strong>：</p><ul><li><p><code>MM01</code></p></li><li><p><code>MM02</code></p></li><li><p><code>MM03</code></p></li></ul></li><li><p><strong>底表</strong>：</p><ul><li><p><strong>MARA</strong>（General Material Data）：基本物料数据表。存储物料的基本数据，包括物料号、物料类型、基本单位等。</p></li><li><p><strong>MARC</strong>（Material Master: Plant Data）：工厂物料数据表。存储物料在工厂级别的数据，如MRP数据、采购组、生产相关数据等。</p></li><li><p><strong>MAKT</strong>（Material Descriptions）：物料描述表。</p></li><li><p><strong>MARD</strong>（Storage Location Data for Material）：物料库存表。存储物料在库存地点层次上的库存数据。</p></li><li><p>其他的还有如<strong>MBEW</strong> (Material Valuation)、<strong>MVKE</strong> (Sales Data for Material)等相关底表。</p></li></ul></li><li><p><strong>标准函数&#x2F;BAPI</strong>：</p><ul><li><p><code>BAPI_MATERIAL_SAVEDATA</code></p></li><li><p><code>BAPI_MATERIAL_GET_DETAIL</code></p></li></ul></li><li><p><strong>前台配置路径</strong>：</p><ul><li>SAP Easy Access &gt; SPRO &gt; SAP Reference IMG &gt; Logistics &gt; Materials Management &gt; Material Master &gt; Material &gt; Create Material</li></ul></li></ol><h2 id="供应商主数据"><a href="#供应商主数据" class="headerlink" title="供应商主数据"></a>供应商主数据</h2><p>供应商主数据记录供应商的基本信息，通过科目组进行分类，通过供应商主数据编号范围自动生成物料编号，<strong>在公司和采购组织各层级上有着不同的属性</strong>。</p><p><strong>以下为供应商主数据涉及到的数据表已经它们之间的关系：</strong></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202409292214652.png" alt="image-20240929221433280"></p><h3 id="供应商科目组"><a href="#供应商科目组" class="headerlink" title="供应商科目组"></a>供应商科目组</h3><ol><li><p><strong>事务码</strong>：</p><ul><li><code>OBD3</code></li></ul></li><li><p><strong>底表</strong>：</p><ul><li><p><strong>T077K</strong>: 存储供应商科目组的定义及其控制字段。</p></li><li><p><strong>T077S</strong>: 供应商科目组的描述。</p></li></ul></li><li><p><strong>前台配置路径</strong>：</p></li></ol><ul><li>SAP Easy Access &gt; SPRO &gt; SAP Reference IMG &gt; Financial Accounting &gt; Accounts Receivable and Accounts Payable &gt; Vendor Accounts &gt; Master Data &gt; Preparations for Creating Vendor Master Data &gt; Define Account Groups with Screen Layout (Vendors)</li></ul><ol start="4"><li><p><strong>常见的供应商科目组示例</strong></p><ol><li><strong>0001</strong>: 国内供应商</li><li><strong>0002</strong>: 国际供应商</li><li><strong>0003</strong>: 服务供应商</li><li><strong>0004</strong>: 关联公司</li><li><strong>0005</strong>: 银行供应商</li></ol></li></ol><h3 id="供应商编号范围"><a href="#供应商编号范围" class="headerlink" title="供应商编号范围"></a>供应商编号范围</h3><ol><li><p><strong>事务码</strong>：</p><ul><li><p><code>XDN1</code>：维护供应商主数据编号范围</p></li><li><p><code>OBAS</code>：为供应商科目组分配编号范围</p></li></ul></li><li><p><strong>底表</strong>：</p><ul><li><code>NRIV</code>: 存储所有编号范围对象的定义和当前状态。</li></ul></li><li><p><strong>前台配置路径</strong>： </p><ul><li>SAP Easy Access &gt; SPRO &gt; SAP Reference IMG &gt; Financial Accounting &gt; Accounts Receivable and Accounts Payable &gt; Vendor Accounts &gt; Master Data &gt; Preparations for Creating Vendor Master Data &gt; Define Number Ranges for Vendor Accounts</li></ul></li></ol><h3 id="供应商主数据-1"><a href="#供应商主数据-1" class="headerlink" title="供应商主数据"></a>供应商主数据</h3><h4 id="供应商主数据的主要组成部分"><a href="#供应商主数据的主要组成部分" class="headerlink" title="供应商主数据的主要组成部分"></a>供应商主数据的主要组成部分</h4><p>供应商主数据通常分为三个主要视图或数据段：</p><ol><li><strong>一般数据（General Data）</strong><ul><li><strong>用途</strong>：一般数据适用于所有公司代码和采购组织，存储与供应商相关的基础信息。</li><li><strong>主要字段</strong><ul><li><strong>供应商名称</strong>（Name）</li><li><strong>地址</strong>（Address）</li><li><strong>电话号码</strong>（Telephone Number）</li><li><strong>税号</strong>（Tax Number）</li><li><strong>银行详细信息</strong>（Bank Details）</li><li><strong>通信方式</strong>（e.g., Email, Fax）</li></ul></li></ul></li><li><strong>公司代码数据（Company Code Data）</strong><ul><li><strong>用途</strong>：公司代码数据与财务会计相关，每个公司代码都有自己的一组供应商数据。此数据段主要用于供应商的账务处理。</li><li><strong>主要字段</strong><ul><li><strong>对账账户</strong>（Reconciliation Account）：链接到总账科目。</li><li><strong>付款条款</strong>（Payment Terms）：决定付款条件。</li><li><strong>付款方式</strong>（Payment Method）：用于定义支付给供应商的方式（如银行转账、支票）。</li><li><strong>勾选管理</strong>（Withholding Tax）：与扣缴税款相关的设置。</li></ul></li></ul></li><li><strong>采购组织数据（Purchasing Data）</strong><ul><li><strong>用途</strong>：采购组织数据与采购和物流处理相关，定义供应商的采购信息。</li><li><strong>主要字段</strong><ul><li><strong>采购组</strong>（Purchasing Group）：负责与供应商沟通的采购组。</li><li><strong>订单货币</strong>（Order Currency）：定义采购订单的货币。</li><li><strong>付款条件</strong>（Payment Terms）：与公司代码数据中的付款条件相关联。</li><li><strong>增值税号</strong>（VAT Number）：用于税务目的。</li><li><strong>确认控制码</strong>（Confirmation Control Key）：定义采购订单的确认要求。</li></ul></li></ul></li></ol><h4 id="供应商主数据的管理"><a href="#供应商主数据的管理" class="headerlink" title="供应商主数据的管理"></a>供应商主数据的管理</h4><ol><li><p><strong>事务码</strong>：</p><ol><li><strong>创建供应商主数据</strong><ul><li><code>XK01</code>：用于创建供应商主数据，涉及一般数据、公司代码数据和采购组织数据的输入。</li><li><code>MK01</code> 和 <code>FK01</code>：分别用于单独创建与采购组织和财务相关的供应商数据。</li></ul></li><li><strong>修改供应商主数据</strong><ul><li><code>XK02</code>：用于修改供应商主数据，包括一般数据、公司代码数据和采购组织数据。</li><li><code>MK02</code> 和 <code>FK02</code>：分别用于修改与采购组织和财务相关的供应商数据。</li></ul></li><li><strong>查看供应商主数据</strong><ul><li><code>XK03</code>：用于查看供应商主数据的详细信息。</li><li><code>MK03</code> 和 <code>FK03</code>：分别用于查看与采购组织和财务相关的供应商数据。</li></ul></li></ol></li><li><p><strong>底表</strong>：</p><ul><li><p><strong>LFA1</strong>（供应商主数据的一般信息）：存储供应商的一般数据。</p></li><li><p><strong>LFB1</strong>（供应商公司代码数据）：存储与财务相关的公司代码级数据。</p></li><li><p><strong>LFM1</strong>（供应商采购组织数据）：存储与采购相关的采购组织级数据。</p></li></ul></li><li><p><strong>标准函数&#x2F;BAPI</strong>：</p><ul><li><code>BAPI_VENDOR_CREATE</code></li><li><code>BAPI_VENDOR_CHANGE</code></li><li><code>BAPI_VENDOR_GETDETAIL</code></li></ul></li><li><p><strong>前台配置路径</strong>：</p><ul><li>SAP Easy Access &gt; SPRO &gt; SAP Reference IMG &gt; Logistics &gt; Material Management &gt; Purchasing &gt; Master Data &gt; Vendor &gt; Central &gt; Create</li></ul></li></ol>]]></content>
    
    
    <categories>
      
      <category>SAP</category>
      
      <category>MM</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SAP</tag>
      
      <tag>MM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MM 采购基本流程</title>
    <link href="/2024/08/04/017-MM%20%E9%87%87%E8%B4%AD%E5%9F%BA%E6%9C%AC%E6%B5%81%E7%A8%8B/"/>
    <url>/2024/08/04/017-MM%20%E9%87%87%E8%B4%AD%E5%9F%BA%E6%9C%AC%E6%B5%81%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202409292248635.png" alt="image-20240929224802366"></p><ol><li><strong>需求识别</strong>：通过事务码<strong>ME51N</strong>创建采购申请。</li><li><strong>供应商选择</strong>：使用事务码<strong>ME41</strong>创建询价，评估供应商。</li><li><strong>询价</strong>：利用<strong>ME42</strong>进行询价记录的修改和更新。</li><li><strong>下采购订单</strong>：使用<strong>ME21N</strong>创建采购订单。</li><li><strong>订单确认</strong>：供应商通过<strong>ME22N</strong>确认订单。</li><li><strong>收货</strong>：通过事务码<strong>MIGO</strong>记录货物收货。</li><li><strong>验收与发票处理</strong>：使用事务码<strong>MIRO</strong>进行发票验证和支付。</li><li><strong>付款</strong>：使用事务码<strong>FB60</strong>进行供应商付款。</li></ol>]]></content>
    
    
    <categories>
      
      <category>SAP</category>
      
      <category>MM</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SAP</tag>
      
      <tag>MM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>电脑系统问题</title>
    <link href="/2024/08/01/015-%E7%94%B5%E8%84%91%E7%B3%BB%E7%BB%9F%E9%97%AE%E9%A2%98/"/>
    <url>/2024/08/01/015-%E7%94%B5%E8%84%91%E7%B3%BB%E7%BB%9F%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h1 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h1><h2 id="日语语言包下载失败"><a href="#日语语言包下载失败" class="headerlink" title="日语语言包下载失败"></a>日语语言包下载失败</h2><p>原因：Windows系统自动更新被禁用所导致。</p><p>解决：开启Windows系统自动更新。</p>]]></content>
    
    
    <categories>
      
      <category>问题处理</category>
      
    </categories>
    
    
    <tags>
      
      <tag>系统</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Debug Fiori项目的JavaScript功能</title>
    <link href="/2024/07/30/014-Debug%20Fiori%E9%A1%B9%E7%9B%AE%E7%9A%84JavaScript%E5%8A%9F%E8%83%BD/"/>
    <url>/2024/07/30/014-Debug%20Fiori%E9%A1%B9%E7%9B%AE%E7%9A%84JavaScript%E5%8A%9F%E8%83%BD/</url>
    
    <content type="html"><![CDATA[<p>在一个Fiori前端页面中同时按下Ctrl+Shift+Alt+P呼出<strong>技术信息对话框</strong>，<strong>使用调试源</strong>勾选<strong>选择特定模块</strong>，点击<strong>确定</strong>后重新加载页面。</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407301945966.png" alt="image-20240730194536544"></p><p>此时可以看到url后多了一个参数<code>?sap-ui-debug=true</code></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407301946292.png" alt="image-20240730194638104"></p><p>按F12或者点击检查查看源代码，即可在Source的标签页下看到Fiori项目的结构，在JavaScript文件中打断点进行调试。</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407301948748.png" alt="image-20240730194827368"></p>]]></content>
    
    
    <categories>
      
      <category>SAP</category>
      
      <category>Fiori</category>
      
      <category>UI5Demo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Fiori</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Fiori单元测试和集成测试</title>
    <link href="/2024/07/30/013-Fiori%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E4%B8%8E%E9%9B%86%E6%88%90%E6%B5%8B%E8%AF%95/"/>
    <url>/2024/07/30/013-Fiori%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E4%B8%8E%E9%9B%86%E6%88%90%E6%B5%8B%E8%AF%95/</url>
    
    <content type="html"><![CDATA[<ul><li>单元测试可以用来测试前端项目中的JavaScript逻辑处理功能，比如<code>model/formatter.js</code>中的<code>statusText</code>功能。</li><li>集成测试将我们需要的模块组合起来联动进行测试。</li></ul><p>SAP UI5 Demo中，官方提供了QUNIT模块和OPA5模块来协助开发者进行相关的测试。</p><h1 id="单元测试"><a href="#单元测试" class="headerlink" title="单元测试"></a>单元测试</h1><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407301905536.png" alt="image-20240730190508628"></p><p>在test文件加下加入以下文件：</p><ul><li><code>unitTests.qunit.html</code>：用于引用QUNIT相关模块并启动测试页面。</li><li><code>unitTests.qunit.js</code>：QUNIT配置，并启动指定的测试脚本。</li><li><code>model/formatter.js</code>：测试脚本。与webapp文件夹下的<code>model/formatter.js</code>命名保持一致，用于测试webapp文件夹下的<code>model/formatter.js</code>中的具体功能。</li></ul><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407301924690.png"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407301924837.png" alt="image-20240730192445581"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407301925096.png" alt="image-20240730192533750"></p><h1 id="集成测试"><a href="#集成测试" class="headerlink" title="集成测试"></a>集成测试</h1><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407301929401.png" alt="image-20240730192903178"></p><p>在test文件加下加入以下文件：</p><ul><li><code>opaTests.qunit.html</code>：用于引用QUNIT相关模块并启动测试页面。</li><li><code>opaTests.qunit.js</code>：QUNIT配置，并启动指定的测试脚本。</li><li><code>NavigationJourney.js</code>：测试脚本。执行<code>pages/.App.js</code>中定义的测试动作。</li><li><code>pages/.App.js</code>：定义测试动作。</li></ul><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407301933630.png" alt="image-20240730193316351"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407301933317.png" alt="image-20240730193352035"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407301935744.png" alt="image-20240730193514471"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407301936599.png" alt="image-20240730193637276"></p>]]></content>
    
    
    <categories>
      
      <category>SAP</category>
      
      <category>Fiori</category>
      
      <category>UI5Demo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Fiori</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MM 企业结构概述和配置</title>
    <link href="/2024/07/28/012-MM%20%E4%BC%81%E4%B8%9A%E7%BB%93%E6%9E%84%E9%85%8D%E7%BD%AE/"/>
    <url>/2024/07/28/012-MM%20%E4%BC%81%E4%B8%9A%E7%BB%93%E6%9E%84%E9%85%8D%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<h1 id="企业结构概述"><a href="#企业结构概述" class="headerlink" title="企业结构概述"></a>企业结构概述</h1><p>企业结构由以下组织单元构成：</p><ol><li>Client</li><li>公司代码</li><li>工厂</li><li>库存地点</li><li>采购组织</li><li>采购组</li></ol><p>他们的层级关系比如：</p><ol><li>Client <ol><li>公司代码 1<ol><li>工厂 1</li><li>工厂 2<ol><li>库存地点 1<ol><li>采购组织 1</li><li>采购组织 2<ol><li>采购组 1</li></ol></li></ol></li><li>库存地点 2</li></ol></li></ol></li><li>公司代码 2</li></ol></li></ol><h1 id="企业结构基础配置"><a href="#企业结构基础配置" class="headerlink" title="企业结构基础配置"></a>企业结构基础配置</h1><h2 id="公司"><a href="#公司" class="headerlink" title="公司"></a>公司</h2><h3 id="定义公司"><a href="#定义公司" class="headerlink" title="定义公司"></a>定义公司</h3><p>TCODE：OX15</p><p>VIEW：V_T880</p><p>TABLE：T880</p><h3 id="创建公司代码"><a href="#创建公司代码" class="headerlink" title="创建公司代码"></a>创建公司代码</h3><p>TCODE：OX02</p><p>VIEW：V_T001</p><p>TABLE：T001</p><h2 id="工厂"><a href="#工厂" class="headerlink" title="工厂"></a>工厂</h2><h3 id="创建工厂"><a href="#创建工厂" class="headerlink" title="创建工厂"></a>创建工厂</h3><p>TCODE：OX10</p><p>VIEW：V_T880</p><p>TABLE：T880</p><h2 id="库存地点"><a href="#库存地点" class="headerlink" title="库存地点"></a>库存地点</h2><h3 id="创建库存地点"><a href="#创建库存地点" class="headerlink" title="创建库存地点"></a>创建库存地点</h3><p>TCODE：OX09</p><p>VIEW：V_T001W</p><p>TABLE：T001W</p><h2 id="采购组织"><a href="#采购组织" class="headerlink" title="采购组织"></a>采购组织</h2><h3 id="创建采购组织"><a href="#创建采购组织" class="headerlink" title="创建采购组织"></a>创建采购组织</h3><p>TCOE：OX08</p><p>VIEW：V_T024E</p><p>TABLE：T024E</p><h2 id="采购组"><a href="#采购组" class="headerlink" title="采购组"></a>采购组</h2><h3 id="创建采购组"><a href="#创建采购组" class="headerlink" title="创建采购组"></a>创建采购组</h3><p>TCODE：OME4</p><p>VIEW：V_024</p><p>TABLE：T024</p><h1 id="企业结构关联关系-配置"><a href="#企业结构关联关系-配置" class="headerlink" title="企业结构关联关系 配置"></a>企业结构关联关系 配置</h1><h2 id="分配工厂到公司代码"><a href="#分配工厂到公司代码" class="headerlink" title="分配工厂到公司代码"></a>分配工厂到公司代码</h2><p>TCODE：OX18</p><p>VIEW：V_T001K_ASSIGN</p><p>TABLE：T001K+T001W+T001+TASSIGN_MM_T001W+T001W_EXT</p><h2 id="分配采购组织到公司代码"><a href="#分配采购组织到公司代码" class="headerlink" title="分配采购组织到公司代码"></a>分配采购组织到公司代码</h2><p>TCODE：OX01</p><p>VIEW：V_T024E_ASSIGN</p><p>TABLE：T024E+T001+TASSIGN_MM_EKORG</p><h2 id="分配采购组织到工厂"><a href="#分配采购组织到工厂" class="headerlink" title="分配采购组织到工厂"></a>分配采购组织到工厂</h2><p>TCODE：OX17</p><p>VIEW：W_T024W_ASSIGN</p><p>TABLE：T024W+T024E+T001W+TASSIG_MM_WERKS</p><h2 id="分配标准采购组织到工厂"><a href="#分配标准采购组织到工厂" class="headerlink" title="分配标准采购组织到工厂"></a>分配标准采购组织到工厂</h2><p>标准采购组织是一个默认的采购组织，如果想要让工厂有一个默认的采购组织，则需要把标准采购组织分配到工厂。</p><p>TCODE：OMKI</p><p>VIEW：V_001W_E</p><p>TABLE：T001W</p>]]></content>
    
    
    <categories>
      
      <category>SAP</category>
      
      <category>MM</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SAP</tag>
      
      <tag>MM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MM 采购的形式</title>
    <link href="/2024/07/27/011-MM%20%E9%87%87%E8%B4%AD%E7%9A%84%E5%BD%A2%E5%BC%8F/"/>
    <url>/2024/07/27/011-MM%20%E9%87%87%E8%B4%AD%E7%9A%84%E5%BD%A2%E5%BC%8F/</url>
    
    <content type="html"><![CDATA[<h1 id="采购类型"><a href="#采购类型" class="headerlink" title="采购类型"></a>采购类型</h1><ol><li>基本采购</li><li>特殊采购</li></ol><h2 id="基本采购"><a href="#基本采购" class="headerlink" title="基本采购"></a>基本采购</h2><p>基本采购满足以下三要素：</p><ol><li>正确的数量</li><li>正确的价格</li><li>正确的时间</li></ol><h3 id="基本采购生命周期"><a href="#基本采购生命周期" class="headerlink" title="基本采购生命周期"></a>基本采购生命周期</h3><ol><li>收集需求</li><li>寻找、联系供应商</li><li>产品背景调查、样品试用</li><li>谈判</li><li>订单交易</li><li>使用、维保、废品处理</li><li>合同更新</li></ol><h3 id="基本采购流程活动"><a href="#基本采购流程活动" class="headerlink" title="基本采购流程活动"></a>基本采购流程活动</h3><ol><li>确定需求</li><li>招标</li><li>下采购订单</li><li>收货过账</li><li>发票对账</li><li>发票验真</li><li>付款给供应商</li></ol><h3 id="基本采购类型"><a href="#基本采购类型" class="headerlink" title="基本采购类型"></a>基本采购类型</h3><p>基本采购还可以继续细分：</p><ol><li>库存采购 or 直接消费采购</li><li>集团内部采购 or 向外部供应商采购</li></ol><h4 id="外部采购的三种形式"><a href="#外部采购的三种形式" class="headerlink" title="外部采购的三种形式"></a>外部采购的三种形式</h4><p>向外部供应商采购体现在IT系统中以以下三种形式展现：</p><ol><li>不定期的一次性订单</li><li>定期提供物料的长期合同</li><li>长期的计划协议和配送计划</li></ol><h2 id="特殊采购"><a href="#特殊采购" class="headerlink" title="特殊采购"></a>特殊采购</h2><p>特殊采购指采购的库存或者采购方式较为特殊：</p><ol><li>寄售库存</li><li>委外</li><li>管道</li><li>包装可回收库存</li><li>转包</li><li>公司内库存转移</li></ol>]]></content>
    
    
    <categories>
      
      <category>SAP</category>
      
      <category>MM</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SAP</tag>
      
      <tag>MM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>日语情景&gt;入关</title>
    <link href="/2024/07/27/010-%E6%97%A5%E8%AF%AD%E6%83%85%E6%99%AF%E5%85%A5%E5%85%B3/"/>
    <url>/2024/07/27/010-%E6%97%A5%E8%AF%AD%E6%83%85%E6%99%AF%E5%85%A5%E5%85%B3/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>日语</category>
      
      <category>情景剧场</category>
      
    </categories>
    
    
    <tags>
      
      <tag>日语</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>数据绑定与数据源</title>
    <link href="/2024/07/26/009-%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A%E4%B8%8E%E6%95%B0%E6%8D%AE%E6%BA%90/"/>
    <url>/2024/07/26/009-%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A%E4%B8%8E%E6%95%B0%E6%8D%AE%E6%BA%90/</url>
    
    <content type="html"><![CDATA[<p>本文将介绍SAP UI5 Demo WalkThrough中涉及到的数据绑定操作与数据源的设置与使用。</p><h1 id="数据绑定"><a href="#数据绑定" class="headerlink" title="数据绑定"></a>数据绑定</h1><p>SAP UI5通过模型来绑定数据：</p><ol><li>默认模型</li><li>命名模型</li></ol><h2 id="默认模型"><a href="#默认模型" class="headerlink" title="默认模型"></a>默认模型</h2><p>在WalkThrough 7的<code>Controller</code>的初始化方法中：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">onInit</span>(<span class="hljs-params"></span>) &#123;<br>   <span class="hljs-comment">// set data model on view</span><br>   <span class="hljs-keyword">const</span> oData = &#123;<br>      recipient : &#123;<br>         name : <span class="hljs-string">&quot;World&quot;</span><br>      &#125;<br>   &#125;;<br>   <span class="hljs-keyword">const</span> oModel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">JSON</span>Model(oData);<br>   <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getView</span>().<span class="hljs-title function_">setModel</span>(oModel);<br>&#125;<br></code></pre></td></tr></table></figure><p>代码通过<code>this.getView().setModel(oModel)</code>设置了视图的默认数据模型。当<code>setModel</code>方法的入参只有一个<code>Model</code>对象时，程序设置的模型即为视图的默认模型，在<code>view.xml</code>和<code>JavaScript</code>文件中可以通过如下方式来获取默认数据模型的内容：</p><ul><li><code>view.xml</code><ul><li><code>&#123;/该模型的一级属性/该模型的二级属性/...&#125;</code></li></ul></li><li><code>JavaScript</code><ul><li><code>this.getView().getModel().getProperty(&quot;&#123;/该模型的一级属性/该模型的二级属性/...&#125;&quot;);</code></li></ul></li></ul><h2 id="命名模型"><a href="#命名模型" class="headerlink" title="命名模型"></a>命名模型</h2><p>除默认数据模型外的其他的数据模型，在<code>set</code>和<code>get</code>的时候则需要指定它对应的模型名称。例如在WalkThrough 20 <code>InvoiceList.controller.js</code>中的代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">onInit</span>(<span class="hljs-params"></span>) &#123;<br><span class="hljs-keyword">const</span> oViewModel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">JSON</span>Model(&#123;<br><span class="hljs-attr">currency</span>: <span class="hljs-string">&quot;EUR&quot;</span><br>&#125;);<br>           <span class="hljs-comment">// 为防止歧义，我将view改为currency</span><br><span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getView</span>().<span class="hljs-title function_">setModel</span>(oViewModel, <span class="hljs-string">&quot;currency&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>获取数据模型内容的时候同理需要加上对应模型的名称：</p><ul><li><code>view.xml</code><ul><li><code>&#123;currency&gt;/该模型的一级属性/该模型的二级属性/...&#125;</code></li></ul></li><li><code>JavaScript</code><ul><li><code>this.getView().getModel(&quot;currency&quot;).getProperty(&quot;&#123;/该模型的一级属性/该模型的二级属性/...&#125;&quot;);</code></li></ul></li></ul><h2 id="view-xml中获取模型的-和"><a href="#view-xml中获取模型的-和" class="headerlink" title="view.xml中获取模型的&gt;/和&gt;"></a><code>view.xml</code>中获取模型的<code>&gt;/</code>和<code>&gt;</code></h2><p>上述在<code>view.xml</code>获取模型内容使用了<code>&gt;/</code>，而<code>&gt;</code>也能用来获取模型内容。两者的区别如下：</p><ul><li><code>&gt;/</code>：绝对路径，确保从模型的根开始访问数据。</li><li><code>&gt;</code>：相对路径，通常在绑定集合项或嵌套结构时使用。</li></ul><p><code>&gt;</code>的使用，需要有对应的上下文进行支持，例如在WalkThrough 21的<code>InvoiceList.view.xml</code>中：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">List</span></span><br><span class="hljs-tag"><span class="hljs-attr">headerText</span>=<span class="hljs-string">&quot;&#123;i18n&gt;invoiceListTitle&#125;&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">class</span>=<span class="hljs-string">&quot;sapUiResponsiveMargin&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">width</span>=<span class="hljs-string">&quot;auto&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">items</span>=<span class="hljs-string">&quot;&#123;invoice&gt;/Invoices&#125;&quot;</span></span><br><span class="hljs-tag">&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">items</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">ObjectListItem</span></span><br><span class="hljs-tag"><span class="hljs-attr">title</span>=<span class="hljs-string">&quot;&#123;invoice&gt;Quantity&#125; x &#123;invoice&gt;ProductName&#125;&quot;</span></span><br><span class="hljs-tag">                 <span class="hljs-attr">......</span></span><br><span class="hljs-tag">/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">items</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">List</span>&gt;</span><br></code></pre></td></tr></table></figure><p><code>items=&quot;&#123;invoice&gt;/Invoices&#125;&quot;</code>通过绝对路径获取到了<code>invoice</code>的模型内容，使得<code>&lt;items&gt;</code>中的<code>&gt;</code>有了上下文进行支持，因此在<code>&lt;items&gt;</code>中可以通过<code>title=&quot;&#123;invoice&gt;Quantity&#125; x &#123;invoice&gt;ProductName&#125;&quot;</code>来直接获取<code>Invoices</code>下的<code>Quantity</code>和<code>ProductName</code>。</p><h3 id="为什么会有两种用法？"><a href="#为什么会有两种用法？" class="headerlink" title="为什么会有两种用法？"></a>为什么会有两种用法？</h3><ol><li><strong>相对路径的灵活性</strong>：相对路径使得在绑定复杂结构时更为灵活。特别是在重复绑定的情况下（如列表中的项），相对路径使得每个绑定都相对于当前项。</li><li><strong>绝对路径的明确性</strong>：绝对路径确保绑定的数据来自模型的根，可以避免由于上下文变化而导致的绑定问题。</li></ol><h2 id="通过JSON文件定义数据模型"><a href="#通过JSON文件定义数据模型" class="headerlink" title="通过JSON文件定义数据模型"></a>通过JSON文件定义数据模型</h2><p>WalkThrough 19中新建了一个<code>Invoices.json</code>文件，并在<code>manifest.json</code>加了如下配置：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;sap.ui5&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    ...<br>    <span class="hljs-attr">&quot;models&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>      ...<br>      <span class="hljs-attr">&quot;invoice&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;sap.ui.model.json.JSONModel&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;uri&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Invoices.json&quot;</span><br>      <span class="hljs-punctuation">&#125;</span><br>      ...<br>    <span class="hljs-punctuation">&#125;</span><br>  <span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>其作用是在UI5程序初始化期间程序会根据<code>manifest.json</code>中配置的model自动创建一个内容及结构指向<code>Invoices.json</code>、叫<code>invoice</code>的一个<code>JSONModel</code>类型的数据模型。</p><p>等同于在<code>OnInit</code>方法中通过代码进行数据模型的创建：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">onInit</span>(<span class="hljs-params"></span>) &#123;<br><span class="hljs-keyword">const</span> oModel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">JSON</span>Model(&#123;<br>...<br>&#125;);<br><span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getView</span>().<span class="hljs-title function_">setModel</span>(oModel, <span class="hljs-string">&quot;invoice`&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="数据源"><a href="#数据源" class="headerlink" title="数据源"></a>数据源</h1><p>前端Fiori项目通过访问后端数据源来获取数据。</p><h2 id="Remote-OData-Service"><a href="#Remote-OData-Service" class="headerlink" title="Remote OData Service"></a>Remote OData Service</h2><p>OData是一种常用的Fiori项目获取后端数据的方式，在Fiori中通过OData访问后端数据源需要使用到<strong>代理中间件</strong>。</p><p>在WalkThrough 25中提供了一个叫<a href="http://help.sap.com/disclaimer?site=https://bestofui5.org/#/packages/ui5-middleware-simpleproxy">ui5-middleware-simpleproxy</a>的代理中间件和公共OData服务（Northwind OData service：<a href="https://services.odata.org/V2/Northwind/Northwind.svc/%EF%BC%89%E4%BE%9B%E6%88%91%E4%BB%AC%E7%BB%83%E4%B9%A0%E4%BD%BF%E7%94%A8%E3%80%82">https://services.odata.org/V2/Northwind/Northwind.svc/）供我们练习使用。</a></p><ol><li><p>通过在Terminal中执行如下指令来安装该中间件的包：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm i -D ui5-middleware-simpleproxy<br></code></pre></td></tr></table></figure></li><li><p>在<code>ui5.yaml</code>中配置后端OData的服务器：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">customMiddleware:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">ui5-middleware-simpleproxy</span><br>    <span class="hljs-attr">afterMiddleware:</span> <span class="hljs-string">compression</span><br>    <span class="hljs-attr">mountPath:</span> <span class="hljs-string">/V2</span><br>    <span class="hljs-attr">configuration:</span><br>      <span class="hljs-attr">baseUri:</span> <span class="hljs-string">&quot;https://services.odata.org&quot;</span><br></code></pre></td></tr></table></figure></li><li><p>在<code>manifest.json</code>中配置数据源：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;sap.app&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>...<span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;dataSources&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br><span class="hljs-attr">&quot;invoiceRemote&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br><span class="hljs-attr">&quot;uri&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;V2/Northwind/Northwind.svc/&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;OData&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;settings&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br><span class="hljs-attr">&quot;odataVersion&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.0&quot;</span><br><span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>...<br></code></pre></td></tr></table></figure></li><li><p>在<code>manifest.json</code>中给数据模型注入数据：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;sap.ui5&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>...<br><span class="hljs-attr">&quot;models&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>...<br><span class="hljs-attr">&quot;invoice&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br><span class="hljs-attr">&quot;dataSource&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;invoiceRemote&quot;</span><br><span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br>   <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>...<br></code></pre></td></tr></table></figure></li></ol><p>在WalkThrough 19中，项目通过<code>Invoices.json</code>来给<code>manifest.json</code>中创建的数据对象<code>invoice</code>填充数据，而到了WalkThrough 25项目可以通过代理去访问后端服务器的数据源来给<code>invoice</code>填充数据。</p><h2 id="模拟服务器"><a href="#模拟服务器" class="headerlink" title="模拟服务器"></a>模拟服务器</h2><p>Mock Server模拟服务器可以为前端Fiori项目提供一个模拟的后端服务器使用，可以帮助前端开发人员进行独立开发和测试。</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407271348038.png" alt="image-20240727134827970"></p><ol><li><p><code>test\mockServer.html</code>取代了<code>index.html</code>，通过启动<code>test\mockServer.html</code>来开启test mode测试模式。</p></li><li><p><code>test\mockServer.html</code>指定<code>test\initMockServer.js</code>为启动脚本。</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407271406113.png"></p></li><li><p><code>test\initMockServer.js</code>相当于给项目的启动脚本做了一层中转：保证了项目的数据请求可以被拦截并转到Mock Server中，同时也加载原启动脚本使项目照常运行显示。</p><ol><li><p><code>mockserver.init();</code>启动模拟服务器、运行<code>localService\mockserver.js</code>脚本代码；</p></li><li><p><code>sap.ui.require([&quot;sap/ui/core/ComponentSupport&quot;]);</code>加载项目的原启动脚本；</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407271407615.png" alt="image-20240727140745534"></p></li></ol></li><li><p><code>localService\mockserver.js</code>初始化模拟服务器：</p><ol><li><code>rootUri: sap.ui.require.toUrl(&quot;ui5/walkthrough&quot;) + &quot;/V2/Northwind/Northwind.svc/&quot;</code>配置需要被拦截的请求；</li><li><code>const sPath = sap.ui.require.toUrl(&quot;ui5/walkthrough/localService&quot;);</code>和<code>oMockServer.simulate(sPath + &quot;/metadata.xml&quot;, sPath + &quot;/mockdata&quot;);</code>加载了模拟返回的数据模型结构<code>localService\metadata.xml</code>与数据内容<code>localService\mockdata\Invoices.json</code>；</li></ol></li></ol>]]></content>
    
    
    <categories>
      
      <category>SAP</category>
      
      <category>Fiori</category>
      
      <category>UI5Demo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Fiori</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>WalkThrough 10 项目结构变化与Fiori项目初始化流程</title>
    <link href="/2024/07/24/008-WalkThrough%2010%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%98%E5%8C%96/"/>
    <url>/2024/07/24/008-WalkThrough%2010%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%98%E5%8C%96/</url>
    
    <content type="html"><![CDATA[<h1 id="变化"><a href="#变化" class="headerlink" title="变化"></a>变化</h1><p>WalkThrough 10 相较于之前的QuickStart 3，在项目结构上主要有以下变化：</p><ul><li>移除了<code>index.js</code>，新增<code>Component.js</code><ul><li><code>Component.js</code>取代了<code>index.js</code>，负责Fiori项目的初始化、配置和生命周期的管理</li><li><code>index.html</code>中不再指定初始化脚本<code>index.js</code>，取而代之的是通过<code>module:sap/ui/core/ComponentSupport</code>模块来调用<code>Component.js</code>进行初始化</li></ul></li><li><code>manifest.json</code>承担了更多的工作</li></ul><p>虽然 <code>manifest.json</code> 和 <code>Component.js</code> 都涉及某些配置和初始化工作，但它们在使用上是<strong>互补</strong>的。</p><h1 id="Fiori项目初始化流程"><a href="#Fiori项目初始化流程" class="headerlink" title="Fiori项目初始化流程"></a>Fiori项目初始化流程</h1><h2 id="启动index-html，加载SAP-UI5核心库"><a href="#启动index-html，加载SAP-UI5核心库" class="headerlink" title="启动index.html，加载SAP UI5核心库"></a>启动<code>index.html</code>，加载SAP UI5核心库</h2><h2 id="加载-ComponentSupport-模块"><a href="#加载-ComponentSupport-模块" class="headerlink" title="加载 ComponentSupport 模块"></a>加载 <code>ComponentSupport</code> 模块</h2><p>通过<code>index.html</code>中的 <code>data-sap-ui-onInit=&quot;module:sap/ui/core/ComponentSupport&quot;</code> 属性会自动加载 <code>sap/ui/core/ComponentSupport</code> 模块。</p><h2 id="查找组件标记并加载组件"><a href="#查找组件标记并加载组件" class="headerlink" title="查找组件标记并加载组件"></a>查找组件标记并加载组件</h2><p><code>ComponentSupport</code> 模块会查找页面中带有 <code>data-sap-ui-component</code> 属性的 HTML 元素，并根据 <code>data-name</code> 属性加载对应命名空间下的的组件。</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407241928848.png" alt="image-20240724192847741"></p><h2 id="加载并执行-Component-js"><a href="#加载并执行-Component-js" class="headerlink" title="加载并执行 Component.js"></a>加载并执行 <code>Component.js</code></h2><p><code>Component.js</code> 定义了应用程序组件的初始化逻辑。</p><p><strong>其中的元数据（metadata）还定义了下一步会指向的 <code>manifest.json</code> 文件。</strong></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407241934589.png" alt="image-20240724193408485"></p><h2 id="读取-manifest-json"><a href="#读取-manifest-json" class="headerlink" title="读取 manifest.json"></a>读取 <code>manifest.json</code></h2><p><code>manifest.json</code> 文件是应用程序的配置文件，包含应用的元数据、组件配置、路由配置、数据源等信息。</p><h2 id="初始化路由和模型"><a href="#初始化路由和模型" class="headerlink" title="初始化路由和模型"></a>初始化路由和模型</h2><p>根据 <code>manifest.json</code> 中的配置，<code>Component.js</code> 中的初始化方法会设置路由、创建并设置模型。（目前的Demo项目中还未涉及到这一块的内容，后续的WalkThrough会有相应的介绍）</p><h2 id="加载并显示根视图"><a href="#加载并显示根视图" class="headerlink" title="加载并显示根视图"></a>加载并显示根视图</h2><p>在 <code>manifest.json</code> 中，<code>rootView</code> 配置指定了应用程序的根视图。该视图会被加载并显示在页面上。</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407241933487.png" alt="image-20240724193328401"></p><h2 id="完成初始化"><a href="#完成初始化" class="headerlink" title="完成初始化"></a>完成初始化</h2>]]></content>
    
    
    <categories>
      
      <category>SAP</category>
      
      <category>Fiori</category>
      
      <category>UI5Demo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Fiori</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>QuikStart 1~3 项目结构变化</title>
    <link href="/2024/07/20/007-QuikStart%201~3%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%98%E5%8C%96/"/>
    <url>/2024/07/20/007-QuikStart%201~3%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%8F%98%E5%8C%96/</url>
    
    <content type="html"><![CDATA[<h1 id="QuikStart1"><a href="#QuikStart1" class="headerlink" title="QuikStart1"></a>QuikStart1</h1><ol><li>项目通过<code>index.html</code>启动，其中将<code>index.js</code>指定为启动脚本</li><li><code>index.js</code>定义了页面的实际UI控件和功能逻辑，最后通过<code>placeAt</code>将<code>index.js</code>中的UI布局替换到<code>index.html</code>中</li></ol><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407212229549.png" alt="image-20240721222948438"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407212233095.png" alt="image-20240721223335992"></p><h1 id="QuikStart2"><a href="#QuikStart2" class="headerlink" title="QuikStart2"></a>QuikStart2</h1><p>QuikStart2中将QuikStart1中的<code>index.js</code>拆分为<code>index.js+App.view.xml+App.controller.js</code></p><ul><li><code>index.js</code>启动引导脚本<ul><li><code>App.view.xml</code>网页UI配置</li><li><code>App.controller.js</code>逻辑处理</li></ul></li></ul><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407212252722.png" alt="image-20240721225249608"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407212254473.png" alt="image-20240721225406362"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407212256271.png" alt="image-20240721225609194"></p><h1 id="QuikStart3"><a href="#QuikStart3" class="headerlink" title="QuikStart3"></a>QuikStart3</h1><p>QuikStart3相比于QuikStart2在项目结构上没有变化，而内容上的变化主要体现在View的UI配置上。</p><p>值得一提的是，在<code>index.html</code>中指定的项目启动脚本<code>data-sap-ui-on-init=&quot;module:ui5/quickstart/index&quot;</code>实际上是指定其中的<code>OnInit</code>方法来负责项目每次启动时初始化工作。</p>]]></content>
    
    
    <categories>
      
      <category>SAP</category>
      
      <category>Fiori</category>
      
      <category>UI5Demo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Fiori</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ABAP 7.52环境搭建</title>
    <link href="/2024/07/13/006-ABAP%207.52%20%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
    <url>/2024/07/13/006-ABAP%207.52%20%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</url>
    
    <content type="html"><![CDATA[<p>在VMware虚拟机中安装OpenSUSE系统，在该系统上安装并启动SAP服务。</p><h1 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h1><ul><li>VMware16pro虚拟机</li><li><a href="https://download.opensuse.org/distribution/leap/15.1/iso/">OpenSUSE 15.1系统</a>（3.8G那个）</li><li><a href="https://winscp.net/eng/download.php#google_vignette">WinSCP（在主机和虚拟机之间传输文件的工具）</a></li><li><a href="https://developers.sap.com/trials-downloads.html">ABAP 7.52安装文件</a>（网页上找到<strong>SAP NetWeaver AS ABAP Developer Edition 7.52 SP04</strong>，将该标题下的ABAP安装文件part1~part11及License共12个压缩包下载下来）</li></ul><p><a href="https://www.sap.com/documents/2019/09/c86f9218-687d-0010-87a3-c30de2ffd8ff.html">可参考的SAP官方安装文档</a></p><h1 id="开始安装"><a href="#开始安装" class="headerlink" title="开始安装"></a>开始安装</h1><h2 id="安装VMware"><a href="#安装VMware" class="headerlink" title="安装VMware"></a>安装VMware</h2><h2 id="在VMware中安装OpenSUSE系统"><a href="#在VMware中安装OpenSUSE系统" class="headerlink" title="在VMware中安装OpenSUSE系统"></a>在VMware中安装OpenSUSE系统</h2><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407132226712.png" alt="image-20240713222612606"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407132227131.png" alt="image-20240713222702989"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407132228334.png" alt="image-20240713222814248"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407132228983.png"></p><p>推荐硬盘100G以上，内存10G以上</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407132229273.png" alt="image-20240713222929210"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407132231813.png" alt="image-20240713223127564"></p><p>前三步自动初始化，结束后从第四步Welcome开始，Next</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407132234329.png" alt="image-20240713223428020"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407132235459.png" alt="image-20240713223516185"></p><p>额外的在线仓库，默认勾选》Next，这一步根据网络状况会需要个三四分钟</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407132236662.png" alt="image-20240713223618373"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407132240619.png" alt="image-20240713224021330"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407132240806.png" alt="image-20240713224059550"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407132241300.png"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407132242531.png" alt="image-20240713224204288"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407132242171.png" alt="image-20240713224220921"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407132242697.png" alt="image-20240713224240436"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407132243702.png" alt="image-20240713224345854"></p><p>注意：创建系统账号，密码注意不要设置的太简单也尽量不使用特殊符号，否则有可能会导致后续安装SAP服务失败。（我这边设置的Opensuse151）</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407132245964.png" alt="image-20240713224553653"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407132248899.png" alt="image-20240713224812628"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407132248016.png" alt="image-20240713224838772"></p><p>安装OpenSUSE系统的最后一步。这边耗时比较久，几十分钟甚至两三个小时。</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407132249140.png" alt="image-20240713224904849"></p><p>安装成功后会自动启动系统</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141102247.png" alt="image-20240714110248109"></p><h2 id="在OpenSUSE安装相关的工具包并进行环境配置"><a href="#在OpenSUSE安装相关的工具包并进行环境配置" class="headerlink" title="在OpenSUSE安装相关的工具包并进行环境配置"></a>在OpenSUSE安装相关的工具包并进行环境配置</h2><p>由于我个人试用，并没有开启代理，如果有需要开启代理的可以参考<a href="https://www.sap.com/documents/2019/09/c86f9218-687d-0010-87a3-c30de2ffd8ff.html">官方文档</a>进行设置。</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141327395.png" alt="image-20240714132704107"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141328296.png" alt="image-20240714132829186"></p><p>回到桌面，运行YaST</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141329452.png" alt="image-20240714132915174"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141330343.png" alt="image-20240714133004102"></p><p>设置主机名vhcalnplci</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141332841.png" alt="image-20240714133231645"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141332805.png" alt="image-20240714133247682"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141334920.png" alt="image-20240714133443803"></p><p>下载uuidd和unrar</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141335723.png" alt="image-20240714133508533"></p><p>点Online Update后会有一个信息提示弹窗，点OK后搜索对应的应用下载即可</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141336455.png" alt="image-20240714133647320"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141338245.png" alt="image-20240714133822118"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141339679.png" alt="image-20240714133900484"></p><p>下载unrar同上</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141339465.png" alt="image-20240714133934299"></p><p>下载好后回到桌面应用栏运行Terminal</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141341598.png" alt="image-20240714134149001"></p><p>开启我们的uuidd服务</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">开启服务，运行后后提示输入密码<br>sudo service uuidd start<br>检查服务是否开启<br>sudo service --status-all |grep uuidd<br>rpm -qa | grep libaio<br></code></pre></td></tr></table></figure><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141345488.png" alt="image-20240714134513361"></p><p>修改主机名为vhcalnplci</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo nano /etc/hostname<br>修改好后按Ctrl+O，然后按回车进行保存，最后按Ctrl+X退出<br></code></pre></td></tr></table></figure><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141347644.png" alt="image-20240714134723531"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">可以输入以下命令查询当前主机<br>sudo cat /etc/hostname<br>输入以下命令重启网络<br>sudo rcnetwork restart<br></code></pre></td></tr></table></figure><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141352419.png" alt="image-20240714135223286"></p><p>重启好后重启系统，检查主机名是否成功修改</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141353742.png" alt="image-20240714135357635"></p><p>配置IP</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">查询IP<br>ip -h addr show<br>将IP记录下来<br></code></pre></td></tr></table></figure><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141355207.png" alt="image-20240714135519084"></p><p>在host文件中配置我们的IP</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo nano /etc/hosts<br>将IP配置进去<br>192.168.160.135 vhcalnplci vhcalnplci.dummy.nodomain<br></code></pre></td></tr></table></figure><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141358947.png" alt="image-20240714135803816"></p><p>同理Ctrl+o再回车在Ctrl+X退出</p><p>接下来打开WinSCP将我们电脑上安装好的ABAP 7.52的相关文件解压并复制到虚拟机中</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141432805.png" alt="image-20240714143217734"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141401609.png" alt="image-20240714140110546"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141401414.png" alt="image-20240714140150342"></p><p>在虚拟机中&#x2F;home&#x2F;claude目录下新建一个abaptrial目录</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141403643.png" alt="image-20240714140316540"></p><p>将我们电脑的压缩包解压出来</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141404422.png" alt="image-20240714140427348"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141405508.png"></p><h2 id="在OpenSUSE中安装SAP服务"><a href="#在OpenSUSE中安装SAP服务" class="headerlink" title="在OpenSUSE中安装SAP服务"></a>在OpenSUSE中安装SAP服务</h2><p>OK接下来就可以回虚拟机进行最后一步安装SAP服务了</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo -i<br>输入密码，转为管理员权限<br>cd..<br>cd /home/claude/abaptrial<br>chmod +x install.sh<br>./install.sh<br></code></pre></td></tr></table></figure><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141415306.png" alt="image-20240714141506242"></p><p>运行完<code>./install.sh</code>后出来一个安装声明，滚轮滚到最后然后按ESC再按q退出</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141413681.png" alt="image-20240714141300508"></p><p>yes后输入两次密码开始安装，安装如果没有报错会需要个十来分钟</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141417764.png" alt="image-20240714141727696"></p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141429751.png" alt="image-20240714142956674"></p><p>第一次安装会因为证书问题安装失败，我们将之前解压出来的证书文件复制到图示目录中，并将该目录下原来的.lic证书文件删除</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141433104.png"></p><p>回到虚拟机中重复上面的安装命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo -i<br>输入密码，转为管理员权限<br>cd..<br>cd /home/claude/abaptrial<br>./install.sh<br></code></pre></td></tr></table></figure><p>安装成功后显示如下<img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141440899.png" alt="image-20240714144007761"></p><h1 id="登录SAP-GUI"><a href="#登录SAP-GUI" class="headerlink" title="登录SAP GUI"></a>登录SAP GUI</h1><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141454815.png" alt="image-20240714145432721"></p><p>账号：SAP*</p><p>密码：Down1oad</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141456289.png" alt="image-20240714145613239"></p><p>tcode输入slicense更换SAP访问KEY</p><p>右键删除这两个KEY&gt;Delete License，并复制上面的Active Hardware Key</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141457048.png" alt="image-20240714145728938"></p><p>访问<a href="https://go.support.sap.com/minisap/#/minisap">官方网址</a>，在下面输入我们的英文名、邮箱、我们上面复制的Hardware Key生成我们的License Key文件</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141500926.png" alt="image-20240714150017778"></p><p>安装我们的License Key文件，接下来我们就可以去001Client中进行ABAP 7.52的试用了</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407141502488.png" alt="image-20240714150258383"></p><h1 id="SAP服务的开启和关闭"><a href="#SAP服务的开启和关闭" class="headerlink" title="SAP服务的开启和关闭"></a>SAP服务的开启和关闭</h1><p>在虚拟机的Terminal中：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">切换至npladm用户<br>su npladm<br>开启SAP服务<br>startsap<br>关闭SAP服务<br>stopsap<br></code></pre></td></tr></table></figure><h1 id="SAP相关账号"><a href="#SAP相关账号" class="headerlink" title="SAP相关账号"></a>SAP相关账号</h1><h2 id="Client-000"><a href="#Client-000" class="headerlink" title="Client 000"></a>Client 000</h2><table><thead><tr><th>User name</th><th>Password</th><th>Description</th></tr></thead><tbody><tr><td>DDIC</td><td>Down1oad</td><td>Data Dictionary User</td></tr><tr><td>SAP*</td><td>Down1oad</td><td>SAP Administrator</td></tr></tbody></table><h2 id="Client-001"><a href="#Client-001" class="headerlink" title="Client 001"></a>Client 001</h2><table><thead><tr><th>User name</th><th>Password</th><th>Description</th></tr></thead><tbody><tr><td>DDIC</td><td>Down1oad</td><td>Data Dictionary User</td></tr><tr><td>SAP*</td><td>Down1oad</td><td>SAP Administrator</td></tr><tr><td>DEVELOPER</td><td>Down1oad</td><td>Developer User</td></tr><tr><td>BWDEVELOPER</td><td>Down1oad</td><td>Developer User</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>SAP</category>
      
      <category>系统配置</category>
      
    </categories>
    
    
    <tags>
      
      <tag>系统配置</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>已发布的请求号再利用</title>
    <link href="/2024/07/13/001-%E5%9B%9E%E9%80%80%E5%B7%B2%E5%8F%91%E5%B8%83%E7%9A%84%E8%AF%B7%E6%B1%82%E5%8F%B7/"/>
    <url>/2024/07/13/001-%E5%9B%9E%E9%80%80%E5%B7%B2%E5%8F%91%E5%B8%83%E7%9A%84%E8%AF%B7%E6%B1%82%E5%8F%B7/</url>
    
    <content type="html"><![CDATA[<p>从开发环境发布到测试环境的请求可以利用此方法实现在开发环境继续使用已发布的请求。</p><h1 id="修改已发布请求的状态"><a href="#修改已发布请求的状态" class="headerlink" title="修改已发布请求的状态"></a>修改已发布请求的状态</h1><ul><li>se38运行程序RDDIT076</li><li>输入需要调整的请求号</li><li>将请求的状态从R改为D</li></ul><p>之后该请求就可以继续在开发环境使用了。</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407131447537.png" alt="image-20240713140702081"></p><h1 id="发布请求"><a href="#发布请求" class="headerlink" title="发布请求"></a>发布请求</h1><p>在发布本次调整后的请求，需要将主请求属性中的请请求到处时间字段EXPORT_TIMESTAMP删除。（第一次删除可能弹出警告，确认后再次删除该字段即可）删除该字段后请求就可以正常发布。</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202407131447067.png" alt="image-20240713141223096"></p>]]></content>
    
    
    <categories>
      
      <category>SAP</category>
      
      <category>ABAP</category>
      
      <category>版本控制</category>
      
    </categories>
    
    
    <tags>
      
      <tag>版本</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ABAP List Program模板</title>
    <link href="/2024/02/16/005-ABAP%20List%20Program%E6%A8%A1%E6%9D%BF/"/>
    <url>/2024/02/16/005-ABAP%20List%20Program%E6%A8%A1%E6%9D%BF/</url>
    
    <content type="html"><![CDATA[<h1 id="复杂模板"><a href="#复杂模板" class="headerlink" title="复杂模板"></a>复杂模板</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs ABAP">*&amp;---------------------------------------------------------------------*<br>*&amp; 程序名：ZTEST_004<br>*&amp;---------------------------------------------------------------------*<br>*&amp; 抬头：<br>*&amp; 程序类型： 报表/表单/批导/后台JOB/函数/增强<br>*&amp; 描述： <br>*&amp; 修改记录：<br>*&amp; 日期         修改人   请求号       业务顾问  修改内容<br>*&amp; 2024-06-25   张三     ED3k000000   李四     新建<br>*&amp;---------------------------------------------------------------------*<br>REPORT ztest_004.<br><br>*&amp;---------------------------------------------------------------------*<br>*&amp; INCLUDE<br>*&amp;---------------------------------------------------------------------*<br>INCLUDE ztest_004_top    .  &quot;Type/Data<br>INCLUDE ztest_004_sel    .  &quot;Selection screen<br>INCLUDE ztest_004_lcl    .  &quot;Class<br>INCLUDE ztest_004_frm    .  &quot;Form<br>INCLUDE ztest_004_pbo    .  &quot;Screen PBO<br>INCLUDE ztest_004_pai    .  &quot;Screen PAI<br><br><br><br>*&amp;---------------------------------------------------------------------*<br>*&amp; 初始化处理<br>*&amp;---------------------------------------------------------------------*<br>INITIALIZATION.<br><br>*&amp;---------------------------------------------------------------------*<br>*&amp; 选择屏幕控制<br>*&amp;---------------------------------------------------------------------*<br>AT SELECTION-SCREEN OUTPUT.<br><br>*&amp;---------------------------------------------------------------------*<br>*&amp; 参数输入检查<br>*&amp;---------------------------------------------------------------------*<br>AT SELECTION-SCREEN.<br><br>*&amp;---------------------------------------------------------------------*<br>*&amp; 程序开始处理<br>*&amp;---------------------------------------------------------------------*<br>START-OF-SELECTION.<br><br>*&amp;---------------------------------------------------------------------*<br>*&amp; 程序结束处理<br>*&amp;---------------------------------------------------------------------*<br>END-OF-SELECTION.<br></code></pre></td></tr></table></figure><h1 id="简单模板"><a href="#简单模板" class="headerlink" title="简单模板"></a>简单模板</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs abap">*&amp;---------------------------------------------------------------------*<br>*&amp; 程序名：ZTEST_005<br>*&amp;---------------------------------------------------------------------*<br>*&amp; 抬头：<br>*&amp; 程序类型： 报表/表单/批导/后台JOB/函数/增强<br>*&amp; 描述： <br>*&amp; 修改记录：<br>*&amp; 日期         修改人   请求号       业务顾问  修改内容<br>*&amp; 2024-06-25   张三     ED3k000000   李四     新建<br>*&amp;---------------------------------------------------------------------*<br>REPORT ZTEST_005.<br><br><br>**********************************************************************<br>*数据类型定义<br>**********************************************************************<br>include ZTEST_005_top.<br><br>**********************************************************************<br>*屏幕处理<br>**********************************************************************<br>include ZTEST_005_sel.<br><br>**********************************************************************<br>*主程序入口<br>**********************************************************************<br>include ZTEST_005_main.<br><br>**********************************************************************<br>*包含<br>**********************************************************************<br>include ZTEST_005_frm.<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>SAP</category>
      
      <category>ABAP</category>
      
      <category>模板</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ABAP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SAP权限对象的使用</title>
    <link href="/2024/02/16/004-%E6%9D%83%E9%99%90%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <url>/2024/02/16/004-%E6%9D%83%E9%99%90%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<p>通过事务码<code>su21</code>维护权限对象。</p><h1 id="创建权限对象"><a href="#创建权限对象" class="headerlink" title="创建权限对象"></a>创建权限对象</h1><p>填入对象、文本、类，再维护权限字段点击保存即完成了权限对象的创建。</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202402161312641.png?imageSlim" alt="image-20240216131201563"></p><h2 id="权限字段"><a href="#权限字段" class="headerlink" title="权限字段"></a>权限字段</h2><p>权限对象为权限字段的集合，我们通过权限对象中的权限字段来校验使用者所属的角色是否可以通过该字段的校验，可以同时校验一个或多个字段。</p><p>通过事务码<code>su20</code>来维护权限字段。</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202402161318154.png?imageSlim" alt="image-20240216131813115"></p><h1 id="在代码中使用权限对象"><a href="#在代码中使用权限对象" class="headerlink" title="在代码中使用权限对象"></a>在代码中使用权限对象</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ABAP">AUTHORITY-CHECK OBJECT &#x27;ZWERKS&#x27; ID &#x27;WERKS&#x27; FIELD &#x27;2001&#x27;.<br>IF sy-subrc &lt;&gt; 0.<br> MESSAGE &#x27;No Authorization!&#x27; TYPE &#x27;E&#x27;.<br>ENDIF.<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>SAP</category>
      
      <category>ABAP</category>
      
      <category>权限</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ABAP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>跳过事务码权限检查</title>
    <link href="/2024/01/27/003-%E8%B7%B3%E8%BF%87%E4%BA%8B%E5%8A%A1%E7%A0%81%E6%9D%83%E9%99%90%E6%A3%80%E6%9F%A5/"/>
    <url>/2024/01/27/003-%E8%B7%B3%E8%BF%87%E4%BA%8B%E5%8A%A1%E7%A0%81%E6%9D%83%E9%99%90%E6%A3%80%E6%9F%A5/</url>
    
    <content type="html"><![CDATA[<p>当使用某个事务码而无法通过权限检验时，我们可以通过调试事务码权限校验函数<code>auth_check_tcode</code>来跳过权限校验：</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202401271409351.png?imageSlim" alt="image-20240127140927287"></p>]]></content>
    
    
    <categories>
      
      <category>SAP</category>
      
      <category>ABAP</category>
      
      <category>权限</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ABAP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>内表分组</title>
    <link href="/2024/01/27/002-%E5%86%85%E8%A1%A8%E5%88%86%E7%BB%84/"/>
    <url>/2024/01/27/002-%E5%86%85%E8%A1%A8%E5%88%86%E7%BB%84/</url>
    
    <content type="html"><![CDATA[<p>在低版本的740语法中，对内表分组可以通过在循环中使用<code>AT NEW</code>的方式来实现。</p><p>新版本的740语法中提供了分组循环的功能：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs ABAP">SELECT *<br>  INTO TABLE @DATA(lt_sflight)<br>  FROM sflight<br>  UP TO 100 ROWS.<br><br>  &quot;分组循环<br>  LOOP AT lt_sflight INTO DATA(lw_sflight)<br>    GROUP BY ( carrid = lw_sflight-carrid size = GROUP SIZE )<br>    REFERENCE INTO DATA(lt_sflight_group).&quot;每一组的对象<br><br>    IF lt_sflight_group-&gt;*-size &gt; 1.&quot;当前组有重复的carrid<br>      &quot;业务逻辑<br>      LOOP AT GROUP lt_sflight_group INTO DATA(lw_sflight_group).<br>        WRITE / lw_sflight_group-carrid.<br>        EXIT.<br>      ENDLOOP.<br><br>    ENDIF.<br><br>  ENDLOOP.<br></code></pre></td></tr></table></figure><p>程序输出：</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202401271331564.png?imageSlim" alt="image-20240127133134500"></p><p>底表数据：</p><p><img src="https://claudechan-1316756394.cos.ap-nanjing.myqcloud.com/PicGo/202401271332832.png?imageSlim" alt="image-20240127133226703"></p>]]></content>
    
    
    <categories>
      
      <category>SAP</category>
      
      <category>ABAP</category>
      
      <category>语法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ABAP</tag>
      
    </tags>
    
  </entry>
  
  
  
  
  
  
  <entry>
    <title>Claude Chan的个人博客介绍</title>
    <link href="/"/>
    <url>/</url>
    
    <content type="html"><![CDATA[<h1 id="个人简介"><a href="#个人简介" class="headerlink" title="个人简介"></a>个人简介</h1><p>Claude Chan，男，福建人，本科毕业于厦门集美。</p><h1 id="联系方式"><a href="#联系方式" class="headerlink" title="联系方式"></a>联系方式</h1><ul><li>QQ：1505414319</li><li>邮箱：<a href="mailto:&#x63;&#108;&#x61;&#117;&#100;&#x65;&#x63;&#x68;&#97;&#x6e;&#49;&#x32;&#x32;&#x38;&#x40;&#x67;&#109;&#x61;&#x69;&#x6c;&#46;&#99;&#x6f;&#x6d;">&#x63;&#108;&#x61;&#117;&#100;&#x65;&#x63;&#x68;&#97;&#x6e;&#49;&#x32;&#x32;&#x38;&#x40;&#x67;&#109;&#x61;&#x69;&#x6c;&#46;&#99;&#x6f;&#x6d;</a>或<a href="mailto:&#49;&#53;&#48;&#x35;&#x34;&#x31;&#x34;&#x33;&#49;&#x39;&#64;&#x71;&#x71;&#x2e;&#99;&#x6f;&#109;">&#49;&#53;&#48;&#x35;&#x34;&#x31;&#x34;&#x33;&#49;&#x39;&#64;&#x71;&#x71;&#x2e;&#99;&#x6f;&#109;</a></li></ul>]]></content>
    
  </entry>
  
  
  
  <entry>
    <title>404</title>
    <link href="/"/>
    <url>/</url>
    
    <content type="html"><![CDATA[]]></content>
    
  </entry>
  
  
  
  <entry>
    <title>contact</title>
    <link href="/"/>
    <url>/</url>
    
    <content type="html"><![CDATA[]]></content>
    
  </entry>
  
  
  
  <entry>
    <title>categories</title>
    <link href="/"/>
    <url>/</url>
    
    <content type="html"><![CDATA[]]></content>
    
  </entry>
  
  
  
  <entry>
    <title>[object Object]</title>
    <link href="/"/>
    <url>/</url>
    
    <content type="html"><![CDATA[]]></content>
    
  </entry>
  
  
  
  <entry>
    <title>tags</title>
    <link href="/"/>
    <url>/</url>
    
    <content type="html"><![CDATA[]]></content>
    
  </entry>
  
  
  
  <entry>
    <title>friends</title>
    <link href="/"/>
    <url>/</url>
    
    <content type="html"><![CDATA[]]></content>
    
  </entry>
  
  
  
</search>
